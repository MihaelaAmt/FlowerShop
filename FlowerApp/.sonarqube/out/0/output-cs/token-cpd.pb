à
BE:\Projects\FlowerShop\FlowerApp\FlowerApp\Auth\ApplicationUser.cs
	namespace 	
	FlowerApp
 
. 
Auth 
{ 
public		 

class		 
ApplicationUser		  
:		! "
IdentityUser		# /
{

 
public 
DateTime 
	Birthdate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
City 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Country 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} „
GE:\Projects\FlowerShop\FlowerApp\FlowerApp\Auth\FlowerShopClaimTypes.cs
	namespace 	
	FlowerApp
 
. 
Auth 
{ 
public 

class  
FlowerShopClaimTypes %
{		 
public

 
static

 
List

 
<

 
string

 !
>

! "

ClaimsList

# -
{

. /
get

0 3
;

3 4
set

5 8
;

8 9
}

: ;
=

< =
new

> A
List

B F
<

F G
string

G M
>

M N
{

O P
$str

Q `
,

` a
$str

b n
,

n o
$str	

p Ç
}


É Ñ
;


Ñ Ö
} 
} ˚
FE:\Projects\FlowerShop\FlowerApp\FlowerApp\Components\AdminMenuItem.cs
	namespace 	
	FlowerApp
 
. 

Components 
{ 
public		 

class		 
	AdminMenu		 
:		 
ViewComponent		 *
{

 
public  
IViewComponentResult #
Invoke$ *
(* +
)+ ,
{ 	
var 
	menuItems 
= 
new 
List  $
<$ %
AdminMenuItem% 2
>2 3
{4 5
new6 9
AdminMenuItem: G
(G H
)H I
{ 
DisplayValue  
=! "
$str# 4
,4 5
ActionValue 
=  !
$str" 2
} 
, 
new 
AdminMenuItem "
(" #
)# $
{ 
DisplayValue  
=! "
$str# 4
,4 5
ActionValue 
=  !
$str" 2
} 
, 
new 
AdminMenuItem #
(# $
)$ %
{ 
DisplayValue  
=! "
$str# 6
,6 7
ActionValue 
=  !
$str" 4
} 
, 
} 
; 
return!! 
View!! 
(!! 
	menuItems!! !
)!!! "
;!!" #
}"" 	
}## 
public%% 

class%% 
AdminMenuItem%% 
{&& 
public'' 
string'' 
DisplayValue'' "
{''# $
get''% (
;''( )
set''* -
;''- .
}''/ 0
public(( 
string(( 
ActionValue(( !
{((" #
get(($ '
;((' (
set(() ,
;((, -
}((. /
})) 
}** ‹	
EE:\Projects\FlowerShop\FlowerApp\FlowerApp\Components\CategoryMenu.cs
	namespace 	
	FlowerApp
 
. 

Components 
{		 
public

 

class

 
CategoryMenu

 
:

 
ViewComponent

  -
{ 
private 
readonly 
ICategoryRepository ,
_categoryRepository- @
;@ A
public 
CategoryMenu 
( 
ICategoryRepository /
categoryRepository0 B
)B C
{ 	
_categoryRepository 
=  !
categoryRepository" 4
;4 5
} 	
public  
IViewComponentResult #
Invoke$ *
(* +
)+ ,
{ 	
var 

categories 
= 
_categoryRepository 0
.0 1

Categories1 ;
.; <
OrderBy< C
(C D
cD E
=>F H
cI J
.J K
CategoryNameK W
)W X
;X Y
return 
View 
( 

categories "
)" #
;# $
} 	
} 
} €
LE:\Projects\FlowerShop\FlowerApp\FlowerApp\Components\ShoppingCartSummary.cs
	namespace		 	
	FlowerApp		
 
.		 

Components		 
{

 
public 

class 
ShoppingCartSummary $
:% &
ViewComponent' 4
{ 
private 
readonly 
ShoppingCart %
_shoppingCart& 3
;3 4
public 
ShoppingCartSummary "
(" #
ShoppingCart# /
shoppingCart0 <
)< =
{ 	
_shoppingCart 
= 
shoppingCart (
;( )
} 	
public  
IViewComponentResult #
Invoke$ *
(* +
)+ ,
{ 	
var 
items 
= 
_shoppingCart %
.% & 
GetShoppingCartItems& :
(: ;
); <
;< =
_shoppingCart 
. 
ShoppingCartItems +
=, -
items. 3
;3 4
var 
shoppingViewModel !
=" #
new$ '!
ShoppingCartViewModel( =
{ 
ShoppingCart 
= 
_shoppingCart ,
,, -
ShoppingCartTotal !
=" #
_shoppingCart$ 1
.1 2 
GetShoppingCartTotal2 F
(F G
)G H
} 
; 
return 
View 
( 
shoppingViewModel )
)) *
;* +
}   	
}!! 
}"" Ó1
KE:\Projects\FlowerShop\FlowerApp\FlowerApp\Controllers\AccountController.cs
	namespace 	
	FlowerApp
 
. 
Controllers 
{ 
[ 
	Authorize 
] 
public 

class 
AccountController "
:# $

Controller% /
{ 
private 
readonly 
UserManager $
<$ %
ApplicationUser% 4
>4 5
_userManager6 B
;B C
private 
readonly 
SignInManager &
<& '
ApplicationUser' 6
>6 7
_signInManager8 F
;F G
public 
AccountController  
(  !
UserManager! ,
<, -
ApplicationUser- <
>< =
userManager> I
,I J
SignInManager 
< 
ApplicationUser )
>) *
signInManager+ 8
)8 9
{ 	
_userManager 
= 
userManager &
;& '
_signInManager 
= 
signInManager *
;* +
} 	
[ 	
AllowAnonymous	 
] 
public 
IActionResult 
Login "
(" #
string# )
	returnUrl* 3
)3 4
{ 	
return 
View 
( 
new 
LoginViewModel *
{ 
	ReturnUrl   
=   
	returnUrl   %
}!! 
)!! 
;!! 
}"" 	
[$$ 	
HttpPost$$	 
]$$ 
[%% 	
AllowAnonymous%%	 
]%% 
public&& 
async&& 
Task&& 
<&& 
IActionResult&& '
>&&' (
Login&&) .
(&&. /
LoginViewModel&&/ =
loginViewModel&&> L
)&&L M
{'' 	
if(( 
((( 
!(( 

ModelState(( 
.(( 
IsValid(( #
)((# $
return)) 
View)) 
()) 
loginViewModel)) *
)))* +
;))+ ,
var++ 
user++ 
=++ 
await++ 
_userManager++ )
.++) *
FindByNameAsync++* 9
(++9 :
loginViewModel++: H
.++H I
UserName++I Q
)++Q R
;++R S
if-- 
(-- 
user-- 
!=-- 
null-- 
)-- 
{.. 
var// 
result// 
=// 
await// "
_signInManager//# 1
.//1 2
PasswordSignInAsync//2 E
(//E F
user//F J
,//J K
loginViewModel//L Z
.//Z [
Password//[ c
,//c d
false//e j
,//j k
false//l q
)//q r
;//r s
if00 
(00 
result00 
.00 
	Succeeded00 $
)00$ %
{11 
if22 
(22 
string22 
.22 
IsNullOrEmpty22 ,
(22, -
loginViewModel22- ;
.22; <
	ReturnUrl22< E
)22E F
)22F G
return33 
RedirectToAction33 /
(33/ 0
$str330 7
,337 8
$str339 ?
)33? @
;33@ A
return55 
Redirect55 #
(55# $
loginViewModel55$ 2
.552 3
	ReturnUrl553 <
)55< =
;55= >
}66 
}77 

ModelState99 
.99 
AddModelError99 $
(99$ %
$str99% '
,99' (
$str99) F
)99F G
;99G H
return:: 
View:: 
(:: 
loginViewModel:: &
)::& '
;::' (
};; 	
[== 	
AllowAnonymous==	 
]== 
public>> 
IActionResult>> 
Register>> %
(>>% &
)>>& '
{?? 	
return@@ 
View@@ 
(@@ 
)@@ 
;@@ 
}AA 	
[CC 	
HttpPostCC	 
]CC 
[DD 	$
ValidateAntiForgeryTokenDD	 !
]DD! "
[EE 	
AllowAnonymousEE	 
]EE 
publicFF 
asyncFF 
TaskFF 
<FF 
IActionResultFF '
>FF' (
RegisterFF) 1
(FF1 2
LoginViewModelFF2 @
loginViewModelFFA O
)FFO P
{GG 	
ifHH 
(HH 

ModelStateHH 
.HH 
IsValidHH "
)HH" #
{II 
varJJ 
userJJ 
=JJ 
newJJ 
ApplicationUserJJ .
(JJ. /
)JJ/ 0
{JJ1 2
UserNameJJ3 ;
=JJ< =
loginViewModelJJ> L
.JJL M
UserNameJJM U
}JJV W
;JJW X
varKK 
resultKK 
=KK 
awaitKK "
_userManagerKK# /
.KK/ 0
CreateAsyncKK0 ;
(KK; <
userKK< @
,KK@ A
loginViewModelKKB P
.KKP Q
PasswordKKQ Y
)KKY Z
;KKZ [
ifMM 
(MM 
resultMM 
.MM 
	SucceededMM $
)MM$ %
{NN 
returnOO 
RedirectToActionOO +
(OO+ ,
$strOO, 3
,OO3 4
$strOO5 ;
)OO; <
;OO< =
}PP 
}QQ 

ModelStateSS 
.SS 
AddModelErrorSS $
(SS$ %
$strSS% '
,SS' (
$strSS) G
)SSG H
;SSH I
returnTT 
ViewTT 
(TT 
loginViewModelTT &
)TT& '
;TT' (
}UU 	
[WW 	
HttpPostWW	 
]WW 
publicXX 
asyncXX 
TaskXX 
<XX 
IActionResultXX '
>XX' (
LogoutXX) /
(XX/ 0
)XX0 1
{YY 	
awaitZZ 
_signInManagerZZ  
.ZZ  !
SignOutAsyncZZ! -
(ZZ- .
)ZZ. /
;ZZ/ 0
return[[ 
RedirectToAction[[ #
([[# $
$str[[$ +
,[[+ ,
$str[[- 3
)[[3 4
;[[4 5
}\\ 	
}]] 
}^^ óµ
IE:\Projects\FlowerShop\FlowerApp\FlowerApp\Controllers\AdminController.cs
	namespace 	
	FlowerApp
 
. 
Controllers 
{ 
[ 
	Authorize 
( 
Roles 
= 
$str '
)' (
]( )
public 

class 
AdminController  
:! "

Controller# -
{ 
private 
readonly 
UserManager $
<$ %
ApplicationUser% 4
>4 5
_userManager6 B
;B C
private 
readonly 
RoleManager $
<$ %
IdentityRole% 1
>1 2
_roleManager3 ?
;? @
private 
readonly 
IFlowerRepository *
_flowerRepository+ <
;< =
private 
readonly 
ICategoryRepository ,
_categoryRepository- @
;@ A
public 
AdminController 
( 
UserManager *
<* +
ApplicationUser+ :
>: ;
userManager< G
,G H
RoleManagerI T
<T U
IdentityRoleU a
>a b
roleManagerc n
,n o
IFlowerRepository	p Å
flowerRepository
Ç í
,
í ì!
ICategoryRepository
î ß 
categoryRepository
® ∫
)
∫ ª
{ 	
_userManager 
= 
userManager &
;& '
_roleManager 
= 
roleManager &
;& '
_flowerRepository 
= 
flowerRepository  0
;0 1
_categoryRepository 
=  !
categoryRepository" 4
;4 5
} 	
public   
IActionResult   
Index   "
(  " #
)  # $
{!! 	
return"" 
View"" 
("" 
)"" 
;"" 
}## 	
public%% 
IActionResult%% 
UserManagement%% +
(%%+ ,
)%%, -
{&& 	
var'' 
users'' 
='' 
_userManager'' $
.''$ %
Users''% *
;''* +
return)) 
View)) 
()) 
users)) 
))) 
;)) 
}** 	
public,, 
IActionResult,, 
AddUser,, $
(,,$ %
),,% &
{-- 	
return.. 
View.. 
(.. 
).. 
;.. 
}// 	
[11 	
HttpPost11	 
]11 
public22 
async22 
Task22 
<22 
IActionResult22 '
>22' (
AddUser22) 0
(220 1
AddUserViewModel221 A
addUserViewModel22B R
)22R S
{33 	
if44 
(44 
!44 

ModelState44 
.44 
IsValid44 #
)44# $
return55 
View55 
(55 
addUserViewModel55 ,
)55, -
;55- .
var77 
user77 
=77 
new77 
ApplicationUser77 *
(77* +
)77+ ,
{88 
UserName99 
=99 
addUserViewModel99 +
.99+ ,
UserName99, 4
,994 5
Email:: 
=:: 
addUserViewModel:: (
.::( )
Email::) .
,::. /
	Birthdate;; 
=;; 
addUserViewModel;; ,
.;;, -
	Birthdate;;- 6
,;;6 7
City<< 
=<< 
addUserViewModel<< '
.<<' (
City<<( ,
,<<, -
Country== 
=== 
addUserViewModel== *
.==* +
Country==+ 2
}>> 
;>> 
IdentityResult@@ 
result@@ !
=@@" #
await@@$ )
_userManager@@* 6
.@@6 7
CreateAsync@@7 B
(@@B C
user@@C G
,@@G H
addUserViewModel@@I Y
.@@Y Z
Password@@Z b
)@@b c
;@@c d
ifBB 
(BB 
resultBB 
.BB 
	SucceededBB  
)BB  !
{CC 
returnDD 
RedirectToActionDD '
(DD' (
$strDD( 8
,DD8 9
_userManagerDD: F
.DDF G
UsersDDG L
)DDL M
;DDM N
}EE 
foreachGG 
(GG 
IdentityErrorGG "
errorGG# (
inGG) +
resultGG, 2
.GG2 3
ErrorsGG3 9
)GG9 :
{HH 

ModelStateII 
.II 
AddModelErrorII (
(II( )
$strII) +
,II+ ,
errorII- 2
.II2 3
DescriptionII3 >
)II> ?
;II? @
}JJ 
returnKK 
ViewKK 
(KK 
addUserViewModelKK (
)KK( )
;KK) *
}LL 	
publicNN 
asyncNN 
TaskNN 
<NN 
IActionResultNN '
>NN' (
EditUserNN) 1
(NN1 2
stringNN2 8
idNN9 ;
)NN; <
{OO 	
varPP 
userPP 
=PP 
awaitPP 
_userManagerPP )
.PP) *
FindByIdAsyncPP* 7
(PP7 8
idPP8 :
)PP: ;
;PP; <
ifRR 
(RR 
userRR 
==RR 
nullRR 
)RR 
returnSS 
RedirectToActionSS '
(SS' (
$strSS( 8
,SS8 9
_userManagerSS: F
.SSF G
UsersSSG L
)SSL M
;SSM N
varTT 
claimsTT 
=TT 
awaitTT 
_userManagerTT +
.TT+ ,
GetClaimsAsyncTT, :
(TT: ;
userTT; ?
)TT? @
;TT@ A
varUU 
vmUU 
=UU 
newUU 
EditUserViewModelUU *
(UU* +
)UU+ ,
{UU- .
IdUU/ 1
=UU2 3
userUU4 8
.UU8 9
IdUU9 ;
,UU; <
EmailUU= B
=UUC D
userUUE I
.UUI J
EmailUUJ O
,UUO P
UserNameUUQ Y
=UUZ [
userUU\ `
.UU` a
UserNameUUa i
,UUi j

UserClaimsUUk u
=UUv w
claimsUUx ~
.UU~ 
Select	UU Ö
(
UUÖ Ü
c
UUÜ á
=>
UUà ä
c
UUã å
.
UUå ç
Value
UUç í
)
UUí ì
.
UUì î
ToList
UUî ö
(
UUö õ
)
UUõ ú
}
UUù û
;
UUû ü
returnWW 
ViewWW 
(WW 
vmWW 
)WW 
;WW 
}XX 	
[ZZ 	
HttpPostZZ	 
]ZZ 
public[[ 
async[[ 
Task[[ 
<[[ 
IActionResult[[ '
>[[' (
EditUser[[) 1
([[1 2
EditUserViewModel[[2 C
editUserViewModel[[D U
)[[U V
{\\ 	
var]] 
user]] 
=]] 
await]] 
_userManager]] )
.]]) *
FindByIdAsync]]* 7
(]]7 8
editUserViewModel]]8 I
.]]I J
Id]]J L
)]]L M
;]]M N
if__ 
(__ 
user__ 
!=__ 
null__ 
)__ 
{`` 
useraa 
.aa 
Emailaa 
=aa 
editUserViewModelaa .
.aa. /
Emailaa/ 4
;aa4 5
userbb 
.bb 
UserNamebb 
=bb 
editUserViewModelbb  1
.bb1 2
UserNamebb2 :
;bb: ;
usercc 
.cc 
	Birthdatecc 
=cc  
editUserViewModelcc! 2
.cc2 3
	Birthdatecc3 <
;cc< =
userdd 
.dd 
Citydd 
=dd 
editUserViewModeldd -
.dd- .
Citydd. 2
;dd2 3
useree 
.ee 
Countryee 
=ee 
editUserViewModelee 0
.ee0 1
Countryee1 8
;ee8 9
vargg 
resultgg 
=gg 
awaitgg "
_userManagergg# /
.gg/ 0
UpdateAsyncgg0 ;
(gg; <
usergg< @
)gg@ A
;ggA B
ifii 
(ii 
resultii 
.ii 
	Succeededii $
)ii$ %
returnjj 
RedirectToActionjj +
(jj+ ,
$strjj, <
,jj< =
_userManagerjj> J
.jjJ K
UsersjjK P
)jjP Q
;jjQ R

ModelStatell 
.ll 
AddModelErrorll (
(ll( )
$strll) +
,ll+ ,
$strll- V
)llV W
;llW X
returnnn 
Viewnn 
(nn 
editUserViewModelnn -
)nn- .
;nn. /
}oo 
returnqq 
RedirectToActionqq #
(qq# $
$strqq$ 4
,qq4 5
_userManagerqq6 B
.qqB C
UsersqqC H
)qqH I
;qqI J
}rr 	
[tt 	
HttpPosttt	 
]tt 
publicuu 
asyncuu 
Taskuu 
<uu 
IActionResultuu '
>uu' (

DeleteUseruu) 3
(uu3 4
stringuu4 :
userIduu; A
)uuA B
{vv 	
varww 
userww 
=ww 
awaitww 
_userManagerww )
.ww) *
FindByIdAsyncww* 7
(ww7 8
userIdww8 >
)ww> ?
;ww? @
ifyy 
(yy 
useryy 
!=yy 
nullyy 
)yy 
{zz 
IdentityResult{{ 
result{{ %
={{& '
await{{( -
_userManager{{. :
.{{: ;
DeleteAsync{{; F
({{F G
user{{G K
){{K L
;{{L M
if|| 
(|| 
result|| 
.|| 
	Succeeded|| $
)||$ %
return}} 
RedirectToAction}} +
(}}+ ,
$str}}, <
)}}< =
;}}= >
else~~ 

ModelState 
. 
AddModelError ,
(, -
$str- /
,/ 0
$str1 a
)a b
;b c
}
ÄÄ 
else
ÅÅ 
{
ÇÇ 

ModelState
ÉÉ 
.
ÉÉ 
AddModelError
ÉÉ (
(
ÉÉ( )
$str
ÉÉ) +
,
ÉÉ+ ,
$str
ÉÉ- G
)
ÉÉG H
;
ÉÉH I
}
ÑÑ 
return
ÖÖ 
View
ÖÖ 
(
ÖÖ 
$str
ÖÖ (
,
ÖÖ( )
_userManager
ÖÖ* 6
.
ÖÖ6 7
Users
ÖÖ7 <
)
ÖÖ< =
;
ÖÖ= >
}
ÜÜ 	
public
ââ 
IActionResult
ââ 
RoleManagement
ââ +
(
ââ+ ,
)
ââ, -
{
ää 	
var
ãã 
roles
ãã 
=
ãã 
_roleManager
ãã $
.
ãã$ %
Roles
ãã% *
;
ãã* +
return
åå 
View
åå 
(
åå 
roles
åå 
)
åå 
;
åå 
}
çç 	
public
èè 
IActionResult
èè 

AddNewRole
èè '
(
èè' (
)
èè( )
=>
èè* ,
View
èè- 1
(
èè1 2
)
èè2 3
;
èè3 4
[
ëë 	
HttpPost
ëë	 
]
ëë 
public
íí 
async
íí 
Task
íí 
<
íí 
IActionResult
íí '
>
íí' (

AddNewRole
íí) 3
(
íí3 4
AddRoleViewModel
íí4 D
addRoleViewModel
ííE U
)
ííU V
{
ìì 	
if
ïï 
(
ïï 
!
ïï 

ModelState
ïï 
.
ïï 
IsValid
ïï #
)
ïï# $
return
ññ 
View
ññ 
(
ññ 
addRoleViewModel
ññ ,
)
ññ, -
;
ññ- .
var
òò 
role
òò 
=
òò 
new
òò 
IdentityRole
òò '
{
ôô 
Name
öö 
=
öö 
addRoleViewModel
öö '
.
öö' (
RoleName
öö( 0
}
õõ 
;
õõ 
IdentityResult
ùù 
result
ùù !
=
ùù" #
await
ùù$ )
_roleManager
ùù* 6
.
ùù6 7
CreateAsync
ùù7 B
(
ùùB C
role
ùùC G
)
ùùG H
;
ùùH I
if
üü 
(
üü 
result
üü 
.
üü 
	Succeeded
üü  
)
üü  !
{
†† 
return
°° 
RedirectToAction
°° '
(
°°' (
$str
°°( 8
,
°°8 9
_roleManager
°°: F
.
°°F G
Roles
°°G L
)
°°L M
;
°°M N
}
¢¢ 
foreach
§§ 
(
§§ 
IdentityError
§§ "
error
§§# (
in
§§) +
result
§§, 2
.
§§2 3
Errors
§§3 9
)
§§9 :
{
•• 

ModelState
¶¶ 
.
¶¶ 
AddModelError
¶¶ (
(
¶¶( )
$str
¶¶) +
,
¶¶+ ,
error
¶¶- 2
.
¶¶2 3
Description
¶¶3 >
)
¶¶> ?
;
¶¶? @
}
ßß 
return
®® 
View
®® 
(
®® 
addRoleViewModel
®® (
)
®®( )
;
®®) *
}
©© 	
public
´´ 
async
´´ 
Task
´´ 
<
´´ 
IActionResult
´´ '
>
´´' (
EditRole
´´) 1
(
´´1 2
string
´´2 8
id
´´9 ;
)
´´; <
{
¨¨ 	
var
≠≠ 
role
≠≠ 
=
≠≠ 
await
≠≠ 
_roleManager
≠≠ )
.
≠≠) *
FindByIdAsync
≠≠* 7
(
≠≠7 8
id
≠≠8 :
)
≠≠: ;
;
≠≠; <
if
ØØ 
(
ØØ 
role
ØØ 
==
ØØ 
null
ØØ 
)
ØØ 
return
∞∞ 
RedirectToAction
∞∞ '
(
∞∞' (
$str
∞∞( 8
,
∞∞8 9
_roleManager
∞∞: F
.
∞∞F G
Roles
∞∞G L
)
∞∞L M
;
∞∞M N
var
≤≤ 
editRoleViewModel
≤≤ !
=
≤≤" #
new
≤≤$ '
EditRoleViewModel
≤≤( 9
{
≥≥ 
Id
¥¥ 
=
¥¥ 
role
¥¥ 
.
¥¥ 
Id
¥¥ 
,
¥¥ 
RoleName
µµ 
=
µµ 
role
µµ 
.
µµ  
Name
µµ  $
,
µµ$ %
Users
∂∂ 
=
∂∂ 
new
∂∂ 
List
∂∂  
<
∂∂  !
string
∂∂! '
>
∂∂' (
(
∂∂( )
)
∂∂) *
}
∑∑ 
;
∑∑ 
foreach
∫∫ 
(
∫∫ 
var
∫∫ 
user
∫∫ 
in
∫∫  
_userManager
∫∫! -
.
∫∫- .
Users
∫∫. 3
)
∫∫3 4
{
ªª 
if
ºº 
(
ºº 
await
ºº 
_userManager
ºº &
.
ºº& '
IsInRoleAsync
ºº' 4
(
ºº4 5
user
ºº5 9
,
ºº9 :
role
ºº; ?
.
ºº? @
Name
ºº@ D
)
ººD E
)
ººE F
editRoleViewModel
ΩΩ %
.
ΩΩ% &
Users
ΩΩ& +
.
ΩΩ+ ,
Add
ΩΩ, /
(
ΩΩ/ 0
user
ΩΩ0 4
.
ΩΩ4 5
UserName
ΩΩ5 =
)
ΩΩ= >
;
ΩΩ> ?
}
ææ 
return
¿¿ 
View
¿¿ 
(
¿¿ 
editRoleViewModel
¿¿ )
)
¿¿) *
;
¿¿* +
}
¡¡ 	
[
√√ 	
HttpPost
√√	 
]
√√ 
public
ƒƒ 
async
ƒƒ 
Task
ƒƒ 
<
ƒƒ 
IActionResult
ƒƒ '
>
ƒƒ' (
EditRole
ƒƒ) 1
(
ƒƒ1 2
EditRoleViewModel
ƒƒ2 C
editRoleViewModel
ƒƒD U
)
ƒƒU V
{
≈≈ 	
var
∆∆ 
role
∆∆ 
=
∆∆ 
await
∆∆ 
_roleManager
∆∆ )
.
∆∆) *
FindByIdAsync
∆∆* 7
(
∆∆7 8
editRoleViewModel
∆∆8 I
.
∆∆I J
Id
∆∆J L
)
∆∆L M
;
∆∆M N
if
»» 
(
»» 
role
»» 
!=
»» 
null
»» 
)
»» 
{
…… 
role
   
.
   
Name
   
=
   
editRoleViewModel
   -
.
  - .
RoleName
  . 6
;
  6 7
var
ÃÃ 
result
ÃÃ 
=
ÃÃ 
await
ÃÃ "
_roleManager
ÃÃ# /
.
ÃÃ/ 0
UpdateAsync
ÃÃ0 ;
(
ÃÃ; <
role
ÃÃ< @
)
ÃÃ@ A
;
ÃÃA B
if
ŒŒ 
(
ŒŒ 
result
ŒŒ 
.
ŒŒ 
	Succeeded
ŒŒ $
)
ŒŒ$ %
return
œœ 
RedirectToAction
œœ +
(
œœ+ ,
$str
œœ, <
,
œœ< =
_roleManager
œœ> J
.
œœJ K
Roles
œœK P
)
œœP Q
;
œœQ R

ModelState
—— 
.
—— 
AddModelError
—— (
(
——( )
$str
——) +
,
——+ ,
$str
——- V
)
——V W
;
——W X
return
”” 
View
”” 
(
”” 
editRoleViewModel
”” -
)
””- .
;
””. /
}
‘‘ 
return
÷÷ 
RedirectToAction
÷÷ #
(
÷÷# $
$str
÷÷$ 4
,
÷÷4 5
_roleManager
÷÷6 B
.
÷÷B C
Roles
÷÷C H
)
÷÷H I
;
÷÷I J
}
◊◊ 	
[
ŸŸ 	
HttpPost
ŸŸ	 
]
ŸŸ 
public
⁄⁄ 
async
⁄⁄ 
Task
⁄⁄ 
<
⁄⁄ 
IActionResult
⁄⁄ '
>
⁄⁄' (

DeleteRole
⁄⁄) 3
(
⁄⁄3 4
string
⁄⁄4 :
id
⁄⁄; =
)
⁄⁄= >
{
€€ 	
IdentityRole
‹‹ 
role
‹‹ 
=
‹‹ 
await
‹‹  %
_roleManager
‹‹& 2
.
‹‹2 3
FindByIdAsync
‹‹3 @
(
‹‹@ A
id
‹‹A C
)
‹‹C D
;
‹‹D E
if
›› 
(
›› 
role
›› 
!=
›› 
null
›› 
)
›› 
{
ﬁﬁ 
var
ﬂﬂ 
result
ﬂﬂ 
=
ﬂﬂ 
await
ﬂﬂ "
_roleManager
ﬂﬂ# /
.
ﬂﬂ/ 0
DeleteAsync
ﬂﬂ0 ;
(
ﬂﬂ; <
role
ﬂﬂ< @
)
ﬂﬂ@ A
;
ﬂﬂA B
if
‡‡ 
(
‡‡ 
result
‡‡ 
.
‡‡ 
	Succeeded
‡‡ $
)
‡‡$ %
return
·· 
RedirectToAction
·· +
(
··+ ,
$str
··, <
,
··< =
_roleManager
··> J
.
··J K
Roles
··K P
)
··P Q
;
··Q R

ModelState
‚‚ 
.
‚‚ 
AddModelError
‚‚ (
(
‚‚( )
$str
‚‚) +
,
‚‚+ ,
$str
‚‚- ]
)
‚‚] ^
;
‚‚^ _
}
„„ 
else
‰‰ 
{
ÂÂ 

ModelState
ÊÊ 
.
ÊÊ 
AddModelError
ÊÊ (
(
ÊÊ( )
$str
ÊÊ) +
,
ÊÊ+ ,
$str
ÊÊ- H
)
ÊÊH I
;
ÊÊI J
}
ÁÁ 
return
ËË 
View
ËË 
(
ËË 
$str
ËË (
,
ËË( )
_roleManager
ËË* 6
.
ËË6 7
Roles
ËË7 <
)
ËË< =
;
ËË= >
}
ÈÈ 	
public
ÌÌ 
async
ÌÌ 
Task
ÌÌ 
<
ÌÌ 
IActionResult
ÌÌ '
>
ÌÌ' (
AddUserToRole
ÌÌ) 6
(
ÌÌ6 7
string
ÌÌ7 =
roleId
ÌÌ> D
)
ÌÌD E
{
ÓÓ 	
var
ÔÔ 
role
ÔÔ 
=
ÔÔ 
await
ÔÔ 
_roleManager
ÔÔ )
.
ÔÔ) *
FindByIdAsync
ÔÔ* 7
(
ÔÔ7 8
roleId
ÔÔ8 >
)
ÔÔ> ?
;
ÔÔ? @
if
ÒÒ 
(
ÒÒ 
role
ÒÒ 
==
ÒÒ 
null
ÒÒ 
)
ÒÒ 
return
ÚÚ 
RedirectToAction
ÚÚ '
(
ÚÚ' (
$str
ÚÚ( 8
,
ÚÚ8 9
_roleManager
ÚÚ: F
.
ÚÚF G
Roles
ÚÚG L
)
ÚÚL M
;
ÚÚM N
var
ÙÙ $
addUserToRoleViewModel
ÙÙ &
=
ÙÙ' (
new
ÙÙ) ,
UserRoleViewModel
ÙÙ- >
{
ÙÙ? @
RoleId
ÙÙA G
=
ÙÙH I
role
ÙÙJ N
.
ÙÙN O
Id
ÙÙO Q
}
ÙÙR S
;
ÙÙS T
foreach
ˆˆ 
(
ˆˆ 
var
ˆˆ 
user
ˆˆ 
in
ˆˆ  
_userManager
ˆˆ! -
.
ˆˆ- .
Users
ˆˆ. 3
)
ˆˆ3 4
{
˜˜ 
if
¯¯ 
(
¯¯ 
!
¯¯ 
await
¯¯ 
_userManager
¯¯ '
.
¯¯' (
IsInRoleAsync
¯¯( 5
(
¯¯5 6
user
¯¯6 :
,
¯¯: ;
role
¯¯< @
.
¯¯@ A
Name
¯¯A E
)
¯¯E F
)
¯¯F G
{
˘˘ $
addUserToRoleViewModel
˙˙ *
.
˙˙* +
Users
˙˙+ 0
.
˙˙0 1
Add
˙˙1 4
(
˙˙4 5
user
˙˙5 9
)
˙˙9 :
;
˙˙: ;
}
˚˚ 
}
¸¸ 
return
˛˛ 
View
˛˛ 
(
˛˛ $
addUserToRoleViewModel
˛˛ .
)
˛˛. /
;
˛˛/ 0
}
ˇˇ 	
[
ÅÅ 	
HttpPost
ÅÅ	 
]
ÅÅ 
public
ÇÇ 
async
ÇÇ 
Task
ÇÇ 
<
ÇÇ 
IActionResult
ÇÇ '
>
ÇÇ' (
AddUserToRole
ÇÇ) 6
(
ÇÇ6 7
UserRoleViewModel
ÇÇ7 H
userRoleViewModel
ÇÇI Z
)
ÇÇZ [
{
ÉÉ 	
var
ÑÑ 
user
ÑÑ 
=
ÑÑ 
await
ÑÑ 
_userManager
ÑÑ )
.
ÑÑ) *
FindByIdAsync
ÑÑ* 7
(
ÑÑ7 8
userRoleViewModel
ÑÑ8 I
.
ÑÑI J
UserId
ÑÑJ P
)
ÑÑP Q
;
ÑÑQ R
var
ÖÖ 
role
ÖÖ 
=
ÖÖ 
await
ÖÖ 
_roleManager
ÖÖ )
.
ÖÖ) *
FindByIdAsync
ÖÖ* 7
(
ÖÖ7 8
userRoleViewModel
ÖÖ8 I
.
ÖÖI J
RoleId
ÖÖJ P
)
ÖÖP Q
;
ÖÖQ R
var
áá 
result
áá 
=
áá 
await
áá 
_userManager
áá +
.
áá+ ,
AddToRoleAsync
áá, :
(
áá: ;
user
áá; ?
,
áá? @
role
ááA E
.
ááE F
Name
ááF J
)
ááJ K
;
ááK L
if
ââ 
(
ââ 
result
ââ 
.
ââ 
	Succeeded
ââ  
)
ââ  !
{
ää 
return
ãã 
RedirectToAction
ãã '
(
ãã' (
$str
ãã( 8
,
ãã8 9
_roleManager
ãã: F
.
ããF G
Roles
ããG L
)
ããL M
;
ããM N
}
åå 
foreach
éé 
(
éé 
IdentityError
éé "
error
éé# (
in
éé) +
result
éé, 2
.
éé2 3
Errors
éé3 9
)
éé9 :
{
èè 

ModelState
êê 
.
êê 
AddModelError
êê (
(
êê( )
$str
êê) +
,
êê+ ,
error
êê- 2
.
êê2 3
Description
êê3 >
)
êê> ?
;
êê? @
}
ëë 
return
ìì 
View
ìì 
(
ìì 
userRoleViewModel
ìì )
)
ìì) *
;
ìì* +
}
îî 	
public
ññ 
async
ññ 
Task
ññ 
<
ññ 
IActionResult
ññ '
>
ññ' ( 
DeleteUserFromRole
ññ) ;
(
ññ; <
string
ññ< B
roleId
ññC I
)
ññI J
{
óó 	
var
òò 
role
òò 
=
òò 
await
òò 
_roleManager
òò )
.
òò) *
FindByIdAsync
òò* 7
(
òò7 8
roleId
òò8 >
)
òò> ?
;
òò? @
if
öö 
(
öö 
role
öö 
==
öö 
null
öö 
)
öö 
return
õõ 
RedirectToAction
õõ '
(
õõ' (
$str
õõ( 8
,
õõ8 9
_roleManager
õõ: F
.
õõF G
Roles
õõG L
)
õõL M
;
õõM N
var
ùù $
addUserToRoleViewModel
ùù &
=
ùù' (
new
ùù) ,
UserRoleViewModel
ùù- >
{
ùù? @
RoleId
ùùA G
=
ùùH I
role
ùùJ N
.
ùùN O
Id
ùùO Q
}
ùùR S
;
ùùS T
foreach
üü 
(
üü 
var
üü 
user
üü 
in
üü  
_userManager
üü! -
.
üü- .
Users
üü. 3
)
üü3 4
{
†† 
if
°° 
(
°° 
await
°° 
_userManager
°° &
.
°°& '
IsInRoleAsync
°°' 4
(
°°4 5
user
°°5 9
,
°°9 :
role
°°; ?
.
°°? @
Name
°°@ D
)
°°D E
)
°°E F
{
¢¢ $
addUserToRoleViewModel
££ *
.
££* +
Users
££+ 0
.
££0 1
Add
££1 4
(
££4 5
user
££5 9
)
££9 :
;
££: ;
}
§§ 
}
•• 
return
ßß 
View
ßß 
(
ßß $
addUserToRoleViewModel
ßß .
)
ßß. /
;
ßß/ 0
}
®® 	
[
™™ 	
HttpPost
™™	 
]
™™ 
public
´´ 
async
´´ 
Task
´´ 
<
´´ 
IActionResult
´´ '
>
´´' ( 
DeleteUserFromRole
´´) ;
(
´´; <
UserRoleViewModel
´´< M
userRoleViewModel
´´N _
)
´´_ `
{
¨¨ 	
var
≠≠ 
user
≠≠ 
=
≠≠ 
await
≠≠ 
_userManager
≠≠ )
.
≠≠) *
FindByIdAsync
≠≠* 7
(
≠≠7 8
userRoleViewModel
≠≠8 I
.
≠≠I J
UserId
≠≠J P
)
≠≠P Q
;
≠≠Q R
var
ÆÆ 
role
ÆÆ 
=
ÆÆ 
await
ÆÆ 
_roleManager
ÆÆ )
.
ÆÆ) *
FindByIdAsync
ÆÆ* 7
(
ÆÆ7 8
userRoleViewModel
ÆÆ8 I
.
ÆÆI J
RoleId
ÆÆJ P
)
ÆÆP Q
;
ÆÆQ R
var
∞∞ 
result
∞∞ 
=
∞∞ 
await
∞∞ 
_userManager
∞∞ +
.
∞∞+ ,!
RemoveFromRoleAsync
∞∞, ?
(
∞∞? @
user
∞∞@ D
,
∞∞D E
role
∞∞F J
.
∞∞J K
Name
∞∞K O
)
∞∞O P
;
∞∞P Q
if
≤≤ 
(
≤≤ 
result
≤≤ 
.
≤≤ 
	Succeeded
≤≤  
)
≤≤  !
{
≥≥ 
return
¥¥ 
RedirectToAction
¥¥ '
(
¥¥' (
$str
¥¥( 8
,
¥¥8 9
_roleManager
¥¥: F
.
¥¥F G
Roles
¥¥G L
)
¥¥L M
;
¥¥M N
}
µµ 
foreach
∑∑ 
(
∑∑ 
IdentityError
∑∑ "
error
∑∑# (
in
∑∑) +
result
∑∑, 2
.
∑∑2 3
Errors
∑∑3 9
)
∑∑9 :
{
∏∏ 

ModelState
ππ 
.
ππ 
AddModelError
ππ (
(
ππ( )
$str
ππ) +
,
ππ+ ,
error
ππ- 2
.
ππ2 3
Description
ππ3 >
)
ππ> ?
;
ππ? @
}
∫∫ 
return
ºº 
View
ºº 
(
ºº 
userRoleViewModel
ºº )
)
ºº) *
;
ºº* +
}
ΩΩ 	
public
¿¿ 
IActionResult
¿¿ 
FlowerManagement
¿¿ -
(
¿¿- .
)
¿¿. /
{
¡¡ 	
var
¬¬ 
	dbFlowers
¬¬ 
=
¬¬ 
_flowerRepository
¬¬ -
.
¬¬- .
Flowers
¬¬. 5
;
¬¬5 6
List
ƒƒ 
<
ƒƒ 
FlowerViewModel
ƒƒ  
>
ƒƒ  !
flowers
ƒƒ" )
=
ƒƒ* +
new
ƒƒ, /
List
ƒƒ0 4
<
ƒƒ4 5
FlowerViewModel
ƒƒ5 D
>
ƒƒD E
(
ƒƒE F
)
ƒƒF G
;
ƒƒG H
foreach
∆∆ 
(
∆∆ 
var
∆∆ 
dbFlower
∆∆ !
in
∆∆" $
	dbFlowers
∆∆% .
)
∆∆. /
{
«« 
flowers
»» 
.
»» 
Add
»» 
(
»» *
MapDbFlowerToFlowerViewModel
»» 8
(
»»8 9
dbFlower
»»9 A
)
»»A B
)
»»B C
;
»»C D
}
…… 
return
ÀÀ 
View
ÀÀ 
(
ÀÀ 
flowers
ÀÀ 
)
ÀÀ  
;
ÀÀ  !
}
ÃÃ 	
public
ŒŒ 
IActionResult
ŒŒ 
	AddFlower
ŒŒ &
(
ŒŒ& '
)
ŒŒ' (
{
œœ 	
ViewData
–– 
[
–– 
$str
–– !
]
––! "
=
––# $!
_categoryRepository
––% 8
.
––8 9

Categories
––9 C
.
––C D
ToList
––D J
(
––J K
)
––K L
;
––L M
return
““ 
View
““ 
(
““ 
)
““ 
;
““ 
}
”” 	
[
’’ 	
HttpPost
’’	 
]
’’ 
public
÷÷ 
IActionResult
÷÷ 
	AddFlower
÷÷ &
(
÷÷& ' 
AddFlowerViewModel
÷÷' 9 
addFlowerViewModel
÷÷: L
)
÷÷L M
{
◊◊ 	
if
ÿÿ 
(
ÿÿ 
!
ÿÿ 

ModelState
ÿÿ 
.
ÿÿ 
IsValid
ÿÿ #
)
ÿÿ# $
return
ŸŸ 
View
ŸŸ 
(
ŸŸ  
addFlowerViewModel
ŸŸ .
)
ŸŸ. /
;
ŸŸ/ 0
var
€€ 
flower
€€ 
=
€€ 
new
€€ 
Flower
€€ #
(
€€# $
)
€€$ %
{
‹‹ 
Name
›› 
=
››  
addFlowerViewModel
›› )
.
››) *
Name
››* .
,
››. /
ShortDescription
ﬁﬁ  
=
ﬁﬁ! " 
addFlowerViewModel
ﬁﬁ# 5
.
ﬁﬁ5 6
ShortDescription
ﬁﬁ6 F
,
ﬁﬁF G
LongDescription
ﬂﬂ 
=
ﬂﬂ  ! 
addFlowerViewModel
ﬂﬂ" 4
.
ﬂﬂ4 5
LongDescription
ﬂﬂ5 D
,
ﬂﬂD E
Price
‡‡ 
=
‡‡  
addFlowerViewModel
‡‡ *
.
‡‡* +
Price
‡‡+ 0
,
‡‡0 1
ImageUrl
·· 
=
··  
addFlowerViewModel
·· -
.
··- .
ImageUrl
··. 6
,
··6 7
ImageThumbnailUrl
‚‚ !
=
‚‚" # 
addFlowerViewModel
‚‚$ 6
.
‚‚6 7
ImageThumbnailUrl
‚‚7 H
,
‚‚H I"
IsFlowerPresentation
„„ $
=
„„% & 
addFlowerViewModel
„„' 9
.
„„9 :"
IsFlowerPresentation
„„: N
,
„„N O
InStock
‰‰ 
=
‰‰  
addFlowerViewModel
‰‰ ,
.
‰‰, -
InStock
‰‰- 4
,
‰‰4 5

CategoryId
ÂÂ 
=
ÂÂ  
addFlowerViewModel
ÂÂ /
.
ÂÂ/ 0

CategoryId
ÂÂ0 :
,
ÂÂ: ;
}
ÁÁ 
;
ÁÁ 
_flowerRepository
ÈÈ 
.
ÈÈ 
	AddFlower
ÈÈ '
(
ÈÈ' (
flower
ÈÈ( .
)
ÈÈ. /
;
ÈÈ/ 0
return
ÎÎ 
RedirectToAction
ÎÎ #
(
ÎÎ# $
$str
ÎÎ$ 6
,
ÎÎ6 7
_flowerRepository
ÎÎ8 I
.
ÎÎI J
Flowers
ÎÎJ Q
)
ÎÎQ R
;
ÎÎR S
}
ÏÏ 	
[
ÓÓ 	
HttpPost
ÓÓ	 
]
ÓÓ 
public
ÔÔ 
IActionResult
ÔÔ 
DeleteFlower
ÔÔ )
(
ÔÔ) *
int
ÔÔ* -
id
ÔÔ. 0
)
ÔÔ0 1
{
 	
Flower
ÒÒ 
flower
ÒÒ 
=
ÒÒ 
_flowerRepository
ÒÒ -
.
ÒÒ- .
GetFlowerById
ÒÒ. ;
(
ÒÒ; <
id
ÒÒ< >
)
ÒÒ> ?
;
ÒÒ? @
if
ÚÚ 
(
ÚÚ 
flower
ÚÚ 
!=
ÚÚ 
null
ÚÚ 
)
ÚÚ 
{
ÛÛ 
_flowerRepository
ÙÙ !
.
ÙÙ! "
DeleteFlower
ÙÙ" .
(
ÙÙ. /
flower
ÙÙ/ 5
)
ÙÙ5 6
;
ÙÙ6 7
return
ˆˆ 
View
ˆˆ 
(
ˆˆ 
$str
ˆˆ .
,
ˆˆ. /
_flowerRepository
ˆˆ0 A
.
ˆˆA B 
FlowersAsViewModel
ˆˆB T
)
ˆˆT U
;
ˆˆU V
}
˜˜ 
else
¯¯ 
{
˘˘ 

ModelState
˙˙ 
.
˙˙ 
AddModelError
˙˙ (
(
˙˙( )
$str
˙˙) +
,
˙˙+ ,
$str
˙˙- J
)
˙˙J K
;
˙˙K L
}
˚˚ 
return
˝˝ 
View
˝˝ 
(
˝˝ 
$str
˝˝ *
,
˝˝* +
_flowerRepository
˝˝, =
.
˝˝= > 
FlowersAsViewModel
˝˝> P
)
˝˝P Q
;
˝˝Q R
}
˛˛ 	
public
ÄÄ 
IActionResult
ÄÄ 

EditFlower
ÄÄ '
(
ÄÄ' (
int
ÄÄ( +
id
ÄÄ, .
)
ÄÄ. /
{
ÅÅ 	
ViewData
ÇÇ 
[
ÇÇ 
$str
ÇÇ !
]
ÇÇ! "
=
ÇÇ# $!
_categoryRepository
ÇÇ% 8
.
ÇÇ8 9

Categories
ÇÇ9 C
.
ÇÇC D
ToList
ÇÇD J
(
ÇÇJ K
)
ÇÇK L
;
ÇÇL M
var
ÑÑ 
flower
ÑÑ 
=
ÑÑ 
_flowerRepository
ÑÑ *
.
ÑÑ* +
GetFlowerById
ÑÑ+ 8
(
ÑÑ8 9
id
ÑÑ9 ;
)
ÑÑ; <
;
ÑÑ< =
if
ÜÜ 
(
ÜÜ 
flower
ÜÜ 
==
ÜÜ 
null
ÜÜ 
)
ÜÜ 
return
áá 
View
áá 
(
áá 
$str
áá .
,
áá. /
_flowerRepository
áá0 A
.
ááA B 
FlowersAsViewModel
ááB T
)
ááT U
;
ááU V
var
ââ !
editFlowerViewModel
ââ #
=
ââ$ %
new
ââ& )!
EditFlowerViewModel
ââ* =
{
ää 
Name
ãã 
=
ãã 
flower
ãã 
.
ãã 
Name
ãã "
,
ãã" #
ShortDescription
åå  
=
åå! "
flower
åå# )
.
åå) *
ShortDescription
åå* :
,
åå: ;
LongDescription
çç 
=
çç  !
flower
çç" (
.
çç( )
LongDescription
çç) 8
,
çç8 9
Price
éé 
=
éé 
flower
éé 
.
éé 
Price
éé $
,
éé$ %
ImageUrl
èè 
=
èè 
flower
èè !
.
èè! "
ImageUrl
èè" *
,
èè* +
ImageThumbnailUrl
êê !
=
êê" #
flower
êê$ *
.
êê* +
ImageThumbnailUrl
êê+ <
,
êê< ="
IsFlowerPresentation
ëë $
=
ëë% &
flower
ëë' -
.
ëë- ."
IsFlowerPresentation
ëë. B
,
ëëB C
InStock
íí 
=
íí 
flower
íí  
.
íí  !
InStock
íí! (
,
íí( )

CategoryId
ìì 
=
ìì 
flower
ìì #
.
ìì# $

CategoryId
ìì$ .
}
îî 
;
îî 
return
ññ 
View
ññ 
(
ññ !
editFlowerViewModel
ññ +
)
ññ+ ,
;
ññ, -
}
óó 	
[
ôô 	
HttpPost
ôô	 
]
ôô 
public
öö 
IActionResult
öö 

EditFlower
öö '
(
öö' (!
EditFlowerViewModel
öö( ;!
editFlowerViewModel
öö< O
)
ööO P
{
õõ 	
ViewData
úú 
[
úú 
$str
úú !
]
úú! "
=
úú# $!
_categoryRepository
úú% 8
.
úú8 9

Categories
úú9 C
.
úúC D
ToList
úúD J
(
úúJ K
)
úúK L
;
úúL M
var
ûû 
flower
ûû 
=
ûû 
_flowerRepository
ûû *
.
ûû* +
GetFlowerById
ûû+ 8
(
ûû8 9!
editFlowerViewModel
ûû9 L
.
ûûL M
Id
ûûM O
)
ûûO P
;
ûûP Q
if
†† 
(
†† 
flower
†† 
!=
†† 
null
†† 
)
†† 
{
°° 
flower
¢¢ 
.
¢¢ 
Name
¢¢ 
=
¢¢ !
editFlowerViewModel
¢¢ 1
.
¢¢1 2
Name
¢¢2 6
;
¢¢6 7
flower
££ 
.
££ 
ShortDescription
££ '
=
££( )!
editFlowerViewModel
££* =
.
££= >
ShortDescription
££> N
;
££N O
flower
§§ 
.
§§ 
LongDescription
§§ &
=
§§' (!
editFlowerViewModel
§§) <
.
§§< =
LongDescription
§§= L
;
§§L M
flower
•• 
.
•• 
Price
•• 
=
•• !
editFlowerViewModel
•• 2
.
••2 3
Price
••3 8
;
••8 9
flower
¶¶ 
.
¶¶ 
ImageUrl
¶¶ 
=
¶¶  !!
editFlowerViewModel
¶¶" 5
.
¶¶5 6
ImageUrl
¶¶6 >
;
¶¶> ?
flower
ßß 
.
ßß 
ImageThumbnailUrl
ßß (
=
ßß) *!
editFlowerViewModel
ßß+ >
.
ßß> ?
ImageThumbnailUrl
ßß? P
;
ßßP Q
flower
®® 
.
®® "
IsFlowerPresentation
®® +
=
®®, -!
editFlowerViewModel
®®. A
.
®®A B"
IsFlowerPresentation
®®B V
;
®®V W
flower
©© 
.
©© 
InStock
©© 
=
©©  !
editFlowerViewModel
©©! 4
.
©©4 5
InStock
©©5 <
;
©©< =
flower
™™ 
.
™™ 

CategoryId
™™ !
=
™™" #!
editFlowerViewModel
™™$ 7
.
™™7 8

CategoryId
™™8 B
;
™™B C
_flowerRepository
¨¨ !
.
¨¨! "
UpdateFlower
¨¨" .
(
¨¨. /
flower
¨¨/ 5
)
¨¨5 6
;
¨¨6 7
return
ÆÆ 
RedirectToAction
ÆÆ '
(
ÆÆ' (
$str
ÆÆ( :
,
ÆÆ: ;
_flowerRepository
ÆÆ< M
.
ÆÆM N 
FlowersAsViewModel
ÆÆN `
)
ÆÆ` a
;
ÆÆa b
}
ØØ 
return
±± 
RedirectToAction
±± #
(
±±# $
$str
±±$ 6
,
±±6 7
_flowerRepository
±±8 I
.
±±I J 
FlowersAsViewModel
±±J \
)
±±\ ]
;
±±] ^
}
≤≤ 	
private
¥¥ 
FlowerViewModel
¥¥ *
MapDbFlowerToFlowerViewModel
¥¥  <
(
¥¥< =
Flower
¥¥= C
dbFlower
¥¥D L
)
¥¥L M
{
µµ 	
return
∂∂ 
new
∂∂ 
FlowerViewModel
∂∂ &
(
∂∂& '
)
∂∂' (
{
∑∑ 
FlowerId
∏∏ 
=
∏∏ 
dbFlower
∏∏ #
.
∏∏# $
FlowerId
∏∏$ ,
,
∏∏, -
Name
ππ 
=
ππ 
dbFlower
ππ 
.
ππ  
Name
ππ  $
,
ππ$ %
Price
∫∫ 
=
∫∫ 
dbFlower
∫∫  
.
∫∫  !
Price
∫∫! &
,
∫∫& '
ShortDescription
ªª  
=
ªª! "
dbFlower
ªª# +
.
ªª+ ,
ShortDescription
ªª, <
,
ªª< =
ImageThumbnailUrl
ºº !
=
ºº" #
dbFlower
ºº$ ,
.
ºº, -
ImageThumbnailUrl
ºº- >
}
ΩΩ 
;
ΩΩ 
}
ææ 	
}
øø 
}¿¿ ü
KE:\Projects\FlowerShop\FlowerApp\FlowerApp\Controllers\ContactController.cs
	namespace 	
	FlowerApp
 
. 
Controllers 
{ 
public		 

class		 
ContactController		 "
:		# $

Controller		% /
{

 
[ 	
ResponseCache	 
( 
Duration 
=  !
$num" $
,$ %
Location& .
=/ 0!
ResponseCacheLocation1 F
.F G
ClientG M
)M N
]N O
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
) 
; 
} 	
} 
} ù
RE:\Projects\FlowerShop\FlowerApp\FlowerApp\Controllers\FavoriteFlowerController.cs
	namespace 	
	FlowerApp
 
. 
Controllers 
{ 
public 

class $
FavoriteFlowerController )
:* +

Controller, 6
{ 
private		 
readonly		 
IFlowerRepository		 *
_flowerRepository		+ <
;		< =
public $
FavoriteFlowerController '
(' (
IFlowerRepository( 9
flowerRepository: J
,J K
ShoppingCartL X
shoppingCartY e
)e f
{ 	
_flowerRepository 
= 
flowerRepository  0
;0 1
} 	
} 
} ˙ç
JE:\Projects\FlowerShop\FlowerApp\FlowerApp\Controllers\FlowerController.cs
	namespace

 	
	FlowerApp


 
.

 
Controllers

 
{ 
public 

class 
FlowerController !
:" #

Controller$ .
{ 
private 
readonly 
IFlowerRepository *
_flowerRepository+ <
;< =
private 
readonly 
ICategoryRepository ,
_categoryRepository- @
;@ A
public 
FlowerController 
(  
IFlowerRepository  1
flowerRepository2 B
,B C
ICategoryRepositoryD W
categoryRepositoryX j
)j k
{ 	
_flowerRepository 
= 
flowerRepository  0
;0 1
_categoryRepository 
=  !
categoryRepository" 4
;4 5
} 	
public 

ViewResult 
List 
( 
string %
category& .
,. /
decimal0 7
lowPrice8 @
=A B
$numC D
,D E
decimalF M
	highPriceN W
=X Y
$numZ [
,[ \
string] c
sortingd k
=l m
$strn p
,p q
FlowerStockr }
availability	~ ä
=
ã å
$num
ç é
)
é è
{ 	
IEnumerable 
< 
Flower 
> 
flowers  '
;' (
string 
currentCategory "
=# $
string% +
.+ ,
Empty, 1
;1 2
if 
( 
string 
. 
IsNullOrEmpty $
($ %
category% -
)- .
). /
{ 
flowers 
= 
_flowerRepository +
.+ ,
Flowers, 3
.3 4
OrderBy4 ;
(; <
p< =
=>> @
pA B
.B C
FlowerIdC K
)K L
;L M
flowers 
= 
PriceFilter %
(% &
lowPrice& .
,. /
	highPrice0 9
,9 :
flowers; B
)B C
;C D
currentCategory!! 
=!!  !
$str!!" /
;!!/ 0
}"" 
else## 
{$$ 
flowers%% 
=%% 
_flowerRepository%% +
.%%+ ,
Flowers%%, 3
.%%3 4
Where%%4 9
(%%9 :
p%%: ;
=>%%< >
p%%? @
.%%@ A
Category%%A I
.%%I J
CategoryName%%J V
==%%W Y
category%%Z b
)%%b c
.&& 
OrderBy&& 
(&& 
p&& 
=>&&  
p&&! "
.&&" #
FlowerId&&# +
)&&+ ,
;&&, -
flowers(( 
=(( 
PriceFilter(( %
(((% &
lowPrice((& .
,((. /
	highPrice((0 9
,((9 :
flowers((; B
)((B C
;((C D
currentCategory** 
=**  !
_categoryRepository**" 5
.**5 6

Categories**6 @
.**@ A
FirstOrDefault**A O
(**O P
c**P Q
=>**R T
c**U V
.**V W
CategoryName**W c
==**d f
category**g o
)**o p
.**p q
CategoryName**q }
;**} ~
}++ 
if-- 
(-- 
!-- 
string-- 
.-- 
IsNullOrEmpty-- %
(--% &
sorting--& -
)--- .
)--. /
{.. 
if// 
(// 
sorting// 
.// 
Equals// "
(//" #
$str//# .
,//. /
StringComparison//0 @
.//@ A
OrdinalIgnoreCase//A R
)//R S
)//S T
flowers00 
=00 
flowers00 %
.00% &
OrderBy00& -
(00- .
p00. /
=>000 2
p003 4
.004 5
Price005 :
)00: ;
;00; <
else11 
if11 
(11 
sorting11  
.11  !
Equals11! '
(11' (
$str11( 4
,114 5
StringComparison116 F
.11F G
OrdinalIgnoreCase11G X
)11X Y
)11Y Z
flowers22 
=22 
flowers22 %
.22% &
OrderByDescending22& 7
(227 8
p228 9
=>22: <
p22= >
.22> ?
Price22? D
)22D E
;22E F
}33 
switch55 
(55 
availability55  
)55  !
{66 
case77 
FlowerStock77  
.77  !
InStock77! (
:77( )
flowers88 
=88 
flowers88 %
.88% &
Where88& +
(88+ ,
x88, -
=>88. 0
x881 2
.882 3
InStock883 :
==88; =
true88> B
)88B C
;88C D
break99 
;99 
case;; 
FlowerStock;;  
.;;  !

NotInStock;;! +
:;;+ ,
flowers<< 
=<< 
flowers<< %
.<<% &
Where<<& +
(<<+ ,
x<<, -
=><<. 0
x<<1 2
.<<2 3
InStock<<3 :
==<<; =
false<<> C
)<<C D
;<<D E
break== 
;== 
case?? 
FlowerStock??  
.??  !
All??! $
:??$ %
break@@ 
;@@ 
}AA 
returnCC 
ViewCC 
(CC 
newCC 
FlowerListViewModelCC /
{DD 
FlowersEE 
=EE 
flowersEE !
,EE! "
CurrentCategoryFF 
=FF  !
currentCategoryFF" 1
}GG 
)GG 
;GG 
}HH 	
publicJJ 

ViewResultJJ 
FavoriteJJ "
(JJ" #
)JJ# $
{KK 	
IEnumerableLL 
<LL 
FlowerLL 
>LL 
flowersLL  '
=LL( )
_flowerRepositoryLL* ;
.LL; <
FlowersLL< C
.MM 
WhereMM 
(MM 
xMM 
=>MM 
xMM 
.MM 

IsFavoriteMM (
)MM( )
.NN 
OrderByNN 
(NN 
pNN 
=>NN 
pNN 
.NN  
FlowerIdNN  (
)NN( )
.OO 
ToListOO 
(OO 
)OO 
;OO 
returnQQ 
ViewQQ 
(QQ 
newQQ 
FlowerListViewModelQQ /
{RR 
FlowersSS 
=SS 
flowersSS !
,SS! "
CurrentCategoryTT 
=TT  !
nullTT" &
}UU 
)UU 
;UU 
}VV 	
publicXX 
ActionResultXX 
AddToFavoriteXX )
(XX) *
intXX* -
flowerIdXX. 6
)XX6 7
{YY 	
varZZ 
flowerZZ 
=ZZ 
_flowerRepositoryZZ *
.ZZ* +
FlowersZZ+ 2
.ZZ2 3
WhereZZ3 8
(ZZ8 9
xZZ9 :
=>ZZ; =
xZZ> ?
.ZZ? @
FlowerIdZZ@ H
==ZZI K
flowerIdZZL T
)ZZT U
.ZZU V
FirstOrDefaultZZV d
(ZZd e
)ZZe f
;ZZf g
if\\ 
(\\ 
flower\\ 
!=\\ 
null\\ 
)\\ 
{]] 
flower^^ 
.^^ 

IsFavorite^^ !
=^^" #
true^^$ (
;^^( )
_flowerRepository__ !
.__! "
UpdateFlower__" .
(__. /
flower__/ 5
)__5 6
;__6 7
}`` 
returnbb 
RedirectToActionbb #
(bb# $
$strbb$ .
,bb. /
$strbb0 8
)bb8 9
;bb9 :
}cc 	
publicee 
ActionResultee 
RemoveFromFavoriteee .
(ee. /
intee/ 2
flowerIdee3 ;
)ee; <
{ff 	
vargg 
flowergg 
=gg 
_flowerRepositorygg *
.gg* +
Flowersgg+ 2
.gg2 3
Wheregg3 8
(gg8 9
xgg9 :
=>gg; =
xgg> ?
.gg? @
FlowerIdgg@ H
==ggI K
flowerIdggL T
)ggT U
.ggU V
FirstOrDefaultggV d
(ggd e
)gge f
;ggf g
ifii 
(ii 
flowerii 
!=ii 
nullii 
)ii 
{jj 
flowerkk 
.kk 

IsFavoritekk !
=kk" #
falsekk$ )
;kk) *
_flowerRepositoryll !
.ll! "
UpdateFlowerll" .
(ll. /
flowerll/ 5
)ll5 6
;ll6 7
}mm 
returnoo 
RedirectToActionoo #
(oo# $
$stroo$ *
,oo* +
$stroo, 4
)oo4 5
;oo5 6
}pp 	
privaterr 
staticrr 
IEnumerablerr "
<rr" #
Flowerrr# )
>rr) *
PriceFilterrr+ 6
(rr6 7
decimalrr7 >
lowPricerr? G
,rrG H
decimalrrI P
	highPricerrQ Z
,rrZ [
IEnumerablerr\ g
<rrg h
Flowerrrh n
>rrn o
flowersrrp w
)rrw x
{ss 	
iftt 
(tt 
lowPricett 
!=tt 
$numtt 
)tt 
{uu 
ifvv 
(vv 
	highPricevv 
!=vv  
$numvv! "
)vv" #
returnww 
flowersww "
.ww" #
Whereww# (
(ww( )
xww) *
=>ww+ -
xww. /
.ww/ 0
Priceww0 5
>=ww6 8
lowPriceww9 A
&&wwB D
xwwE F
.wwF G
PricewwG L
<=wwM O
	highPricewwP Y
)wwY Z
.wwZ [
OrderByww[ b
(wwb c
pwwc d
=>wwe g
pwwh i
.wwi j
FlowerIdwwj r
)wwr s
;wws t
elsexx 
returnyy 
flowersyy "
.yy" #
Whereyy# (
(yy( )
xyy) *
=>yy+ -
xyy. /
.yy/ 0
Priceyy0 5
>=yy6 8
lowPriceyy9 A
)yyA B
.yyB C
OrderByyyC J
(yyJ K
pyyK L
=>yyM O
pyyP Q
.yyQ R
FlowerIdyyR Z
)yyZ [
;yy[ \
}zz 
else{{ 
if{{ 
({{ 
	highPrice{{ 
!={{ !
$num{{" #
){{# $
return|| 
flowers|| 
.|| 
Where|| $
(||$ %
x||% &
=>||' )
x||* +
.||+ ,
Price||, 1
<=||2 4
	highPrice||5 >
)||> ?
.||? @
OrderBy||@ G
(||G H
p||H I
=>||J L
p||M N
.||N O
FlowerId||O W
)||W X
;||X Y
else}} 
return~~ 
flowers~~ 
;~~ 
} 	
public
ÅÅ 
enum
ÅÅ 
FlowerStock
ÅÅ 
{
ÇÇ 	
All
ÉÉ 
=
ÉÉ 
$num
ÉÉ 
,
ÉÉ 
InStock
ÑÑ 
=
ÑÑ 
$num
ÑÑ 
,
ÑÑ 

NotInStock
ÖÖ 
=
ÖÖ 
$num
ÖÖ 
}
ÜÜ 	
[
àà 	
HttpGet
àà	 
]
àà 
public
ââ 

ViewResult
ââ 
Search
ââ  
(
ââ  !
string
ââ! '

flowerName
ââ( 2
,
ââ2 3
decimal
ââ4 ;
lowPrice
ââ< D
=
ââE F
$num
ââG H
,
ââH I
decimal
ââJ Q
	highPrice
ââR [
=
ââ\ ]
$num
ââ^ _
,
ââ_ `
string
ââa g
sorting
ââh o
=
ââp q
$str
ââr t
)
âât u
{
ää 	
IEnumerable
ãã 
<
ãã 
Flower
ãã 
>
ãã 
flowers
ãã  '
;
ãã' (
string
åå 
currentCategory
åå "
=
åå# $
string
åå% +
.
åå+ ,
Empty
åå, 1
;
åå1 2
ViewBag
çç 
.
çç 

FlowerName
çç 
=
çç  

flowerName
çç! +
;
çç+ ,
flowers
êê 
=
êê 
_flowerRepository
êê '
.
êê' (
Flowers
êê( /
.
êê/ 0
Where
êê0 5
(
êê5 6
p
êê6 7
=>
êê8 :
p
êê; <
.
êê< =
Name
êê= A
.
êêA B
Contains
êêB J
(
êêJ K

flowerName
êêK U
)
êêU V
||
êêW Y
p
ëë 
.
ëë 
LongDescription
ëë !
.
ëë! "
Contains
ëë" *
(
ëë* +

flowerName
ëë+ 5
)
ëë5 6
||
ëë7 9
p
íí 
.
íí 
ShortDescription
íí "
.
íí" #
Contains
íí# +
(
íí+ ,

flowerName
íí, 6
)
íí6 7
)
íí7 8
.
íí8 9
OrderBy
íí9 @
(
íí@ A
p
ííA B
=>
ííC E
p
ííF G
.
ííG H
FlowerId
ííH P
)
ííP Q
;
ííQ R
flowers
îî 
=
îî 
PriceFilter
îî !
(
îî! "
lowPrice
îî" *
,
îî* +
	highPrice
îî, 5
,
îî5 6
flowers
îî7 >
)
îî> ?
;
îî? @
if
ññ 
(
ññ 
!
ññ 
string
ññ 
.
ññ 
IsNullOrEmpty
ññ %
(
ññ% &
sorting
ññ& -
)
ññ- .
)
ññ. /
{
óó 
if
òò 
(
òò 
sorting
òò 
.
òò 
Equals
òò "
(
òò" #
$str
òò# .
,
òò. /
StringComparison
òò0 @
.
òò@ A
OrdinalIgnoreCase
òòA R
)
òòR S
)
òòS T
flowers
ôô 
=
ôô 
flowers
ôô %
.
ôô% &
OrderBy
ôô& -
(
ôô- .
p
ôô. /
=>
ôô0 2
p
ôô3 4
.
ôô4 5
Price
ôô5 :
)
ôô: ;
;
ôô; <
else
öö 
if
öö 
(
öö 
sorting
öö  
.
öö  !
Equals
öö! '
(
öö' (
$str
öö( 4
,
öö4 5
StringComparison
öö6 F
.
ööF G
OrdinalIgnoreCase
ööG X
)
ööX Y
)
ööY Z
flowers
õõ 
=
õõ 
flowers
õõ %
.
õõ% &
OrderByDescending
õõ& 7
(
õõ7 8
p
õõ8 9
=>
õõ: <
p
õõ= >
.
õõ> ?
Price
õõ? D
)
õõD E
;
õõE F
}
úú 
return
üü 
View
üü 
(
üü 
new
üü !
FlowerListViewModel
üü /
{
†† 
Flowers
°° 
=
°° 
flowers
°° !
,
°°! "
CurrentCategory
¢¢ 
=
¢¢  !
currentCategory
¢¢" 1
}
££ 
)
££ 
;
££ 
}
§§ 	
[
¶¶ 	
HttpGet
¶¶	 
]
¶¶ 
public
ßß 
async
ßß 
Task
ßß 
<
ßß 
ActionResult
ßß &
>
ßß& ' 
AutocompleteSearch
ßß( :
(
ßß: ;
)
ßß; <
{
®® 	
try
©© 
{
™™ 
string
´´ 
term
´´ 
=
´´ 
HttpContext
´´ )
.
´´) *
Request
´´* 1
.
´´1 2
Query
´´2 7
[
´´7 8
$str
´´8 >
]
´´> ?
.
´´? @
ToString
´´@ H
(
´´H I
)
´´I J
;
´´J K
var
¨¨ 
names
¨¨ 
=
¨¨ 
_flowerRepository
¨¨ -
.
¨¨- .
Flowers
¨¨. 5
.
¨¨5 6
Where
¨¨6 ;
(
¨¨; <
p
¨¨< =
=>
¨¨> @
p
¨¨A B
.
¨¨B C
Name
¨¨C G
.
¨¨G H
Contains
¨¨H P
(
¨¨P Q
term
¨¨Q U
)
¨¨U V
)
¨¨V W
.
¨¨W X
Select
¨¨X ^
(
¨¨^ _
p
¨¨_ `
=>
¨¨a c
p
¨¨d e
.
¨¨e f
Name
¨¨f j
)
¨¨j k
.
¨¨k l
ToList
¨¨l r
(
¨¨r s
)
¨¨s t
;
¨¨t u
return
ÆÆ 
Ok
ÆÆ 
(
ÆÆ 
names
ÆÆ 
)
ÆÆ  
;
ÆÆ  !
}
ØØ 
catch
∞∞ 
{
±± 
return
≤≤ 

BadRequest
≤≤ !
(
≤≤! "
)
≤≤" #
;
≤≤# $
}
≥≥ 
}
¥¥ 	
[
∂∂ 	
HttpGet
∂∂	 
]
∂∂ 
public
∑∑ 
IEnumerable
∑∑ 
<
∑∑ 
string
∑∑ !
>
∑∑! "
FlowersNames
∑∑# /
(
∑∑/ 0
)
∑∑0 1
{
∏∏ 	
return
ππ 
_flowerRepository
ππ $
.
ππ$ %
FlowersNames
ππ% 1
;
ππ1 2
}
∫∫ 	
public
ºº 
IActionResult
ºº 
Details
ºº $
(
ºº$ %
int
ºº% (
id
ºº) +
)
ºº+ ,
{
ΩΩ 	
var
ææ 
flower
ææ 
=
ææ 
_flowerRepository
ææ *
.
ææ* +
GetFlowerById
ææ+ 8
(
ææ8 9
id
ææ9 ;
)
ææ; <
;
ææ< =
if
¿¿ 
(
¿¿ 
flower
¿¿ 
==
¿¿ 
null
¿¿ 
)
¿¿ 
return
¡¡ 
NotFound
¡¡ 
(
¡¡  
)
¡¡  !
;
¡¡! "
return
√√ 
View
√√ 
(
√√ 
new
√√ #
FlowerDetailViewModel
√√ 1
{
ƒƒ 
Flower
≈≈ 
=
≈≈ 
flower
≈≈ 
}
∆∆ 
)
∆∆ 
;
∆∆ 
}
«« 	
}
»» 
}…… •
NE:\Projects\FlowerShop\FlowerApp\FlowerApp\Controllers\FlowerDataController.cs
	namespace 	
	FlowerApp
 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
public 

class  
FlowerDataController %
:& '

Controller( 2
{ 
private 
readonly 
IFlowerRepository *
_flowerRepository+ <
;< =
public  
FlowerDataController #
(# $
IFlowerRepository$ 5
flowerRepository6 F
)F G
{ 	
_flowerRepository 
= 
flowerRepository  0
;0 1
} 	
[ 	
HttpGet	 
] 
public 
IEnumerable 
< 
FlowerViewModel *
>* +
LoadMoreFlowers, ;
(; <
)< =
{ 	
IEnumerable 
< 
Flower 
> 
	dbFlowers  )
=* +
null, 0
;0 1
	dbFlowers 
= 
_flowerRepository )
.) *
Flowers* 1
.1 2
OrderBy2 9
(9 :
p: ;
=>< >
p? @
.@ A
FlowerIdA I
)I J
.J K
TakeK O
(O P
$numP R
)R S
;S T
List   
<   
FlowerViewModel    
>    !
flowers  " )
=  * +
new  , /
List  0 4
<  4 5
FlowerViewModel  5 D
>  D E
(  E F
)  F G
;  G H
foreach"" 
("" 
var"" 
dbFlower"" !
in""" $
	dbFlowers""% .
)"". /
{## 
flowers$$ 
.$$ 
Add$$ 
($$ (
MapDbFlowerToFlowerViewModel$$ 8
($$8 9
dbFlower$$9 A
)$$A B
)$$B C
;$$C D
}%% 
return&& 
flowers&& 
;&& 
}'' 	
private)) 
FlowerViewModel)) (
MapDbFlowerToFlowerViewModel))  <
())< =
Flower))= C
dbFlower))D L
)))L M
{** 	
return++ 
new++ 
FlowerViewModel++ &
(++& '
)++' (
{,, 
FlowerId-- 
=-- 
dbFlower-- #
.--# $
FlowerId--$ ,
,--, -
Name.. 
=.. 
dbFlower.. 
...  
Name..  $
,..$ %
Price// 
=// 
dbFlower//  
.//  !
Price//! &
,//& '
ShortDescription00  
=00! "
dbFlower00# +
.00+ ,
ShortDescription00, <
,00< =
ImageThumbnailUrl11 !
=11" #
dbFlower11$ ,
.11, -
ImageThumbnailUrl11- >
}22 
;22 
}33 	
}44 
}55 µ

HE:\Projects\FlowerShop\FlowerApp\FlowerApp\Controllers\HomeController.cs
	namespace		 	
	FlowerApp		
 
.		 
Controllers		 
{

 
public 

class 
HomeController 
:  !

Controller" ,
{ 
private 
readonly 
IFlowerRepository *
_flowerRepository+ <
;< =
public 
HomeController 
( 
IFlowerRepository /
flowerRepository0 @
)@ A
{ 	
_flowerRepository 
= 
flowerRepository  0
;0 1
} 	
public 

ViewResult 
Index 
(  
)  !
{ 	
var 
homeViewModel 
= 
new  #
HomeViewModel$ 1
{ 
FlowerPresentation "
=# $
_flowerRepository% 6
.6 7
FlowerPresentation7 I
,I J
FlowersName 
= 
_flowerRepository /
./ 0
FlowersNames0 <
} 
; 
return 
View 
( 
homeViewModel %
)% &
;& '
} 	
} 
} À
IE:\Projects\FlowerShop\FlowerApp\FlowerApp\Controllers\OrderController.cs
	namespace

 	
	FlowerApp


 
.

 
Controllers

 
{ 
public 

class 
OrderController  
:! "

Controller# -
{ 
private 
readonly 
IOrderRepository )
_orderRepository* :
;: ;
private 
readonly 
ShoppingCart %
_shoppingCart& 3
;3 4
public 
OrderController 
( 
IOrderRepository /
orderRepository0 ?
,? @
ShoppingCartA M
shoppingCartN Z
)Z [
{ 	
_orderRepository 
= 
orderRepository .
;. /
_shoppingCart 
= 
shoppingCart (
;( )
} 	
[ 	
	Authorize	 
] 
public 
IActionResult 
Checkout %
(% &
)& '
{ 	
return 
View 
( 
) 
; 
} 	
[ 	
HttpPost	 
] 
[ 	
	Authorize	 
] 
public 
IActionResult 
Checkout %
(% &
Order& +
order, 1
)1 2
{   	
var!! 
items!! 
=!! 
_shoppingCart!! %
.!!% & 
GetShoppingCartItems!!& :
(!!: ;
)!!; <
;!!< =
_shoppingCart"" 
."" 
ShoppingCartItems"" +
="", -
items"". 3
;""3 4
if$$ 
($$ 
_shoppingCart$$ 
.$$ 
ShoppingCartItems$$ /
.$$/ 0
Count$$0 5
==$$6 8
$num$$9 :
)$$: ;
{%% 

ModelState&& 
.&& 
AddModelError&& (
(&&( )
$str&&) +
,&&+ ,
$str&&- Y
)&&Y Z
;&&Z [
}'' 
if)) 
()) 

ModelState)) 
.)) 
IsValid)) "
)))" #
{** 
order++ 
.++ 
Email++ 
=++ 
User++ "
.++" #
Identity++# +
.+++ ,
Name++, 0
;++0 1
_orderRepository,,  
.,,  !
CreateOrder,,! ,
(,,, -
order,,- 2
),,2 3
;,,3 4
_shoppingCart-- 
.-- 
	ClearCart-- '
(--' (
)--( )
;--) *
return.. 
RedirectToAction.. '
(..' (
$str..( :
)..: ;
;..; <
}// 
return00 
View00 
(00 
order00 
)00 
;00 
}11 	
public33 
IActionResult33 
CheckoutComplete33 -
(33- .
)33. /
{44 	
ViewBag55 
.55 #
CheckoutCompleteMessage55 +
=55, -
$str55. n
;55n o
return77 
View77 
(77 
)77 
;77 
}88 	
}99 
}:: «
PE:\Projects\FlowerShop\FlowerApp\FlowerApp\Controllers\OrderHistoryController.cs
	namespace 	
	FlowerApp
 
. 
Controllers 
{ 
public 

class "
OrderHistoryController '
:( )

Controller* 4
{ 
private 
readonly 
IOrderRepository )
_orderRepository* :
;: ;
private 
readonly 
SignInManager &
<& '
ApplicationUser' 6
>6 7
_signInManager8 F
;F G
public "
OrderHistoryController %
(% &
IOrderRepository& 6
orderRepository7 F
,F G
SignInManagerH U
<U V
ApplicationUserV e
>e f
signInManagerg t
)t u
{ 	
_orderRepository 
= 
orderRepository .
;. /
_signInManager 
= 
signInManager *
;* +
} 	
public 

ViewResult 
Index 
(  
)  !
{ 	
IEnumerable 
< (
OrderHistoryDetailsViewModel 4
>4 5
orders6 <
== >
null? C
;C D
if 
( 
_signInManager 
. 

IsSignedIn )
() *
User* .
). /
&&0 2
User3 7
.7 8
IsInRole8 @
(@ A
$strA Q
)Q R
)R S
{ 
orders 
= 
_orderRepository )
.) * 
GetOrdersAsViewModel* >
(> ?
)? @
;@ A
} 
else 
{   
orders!! 
=!! 
_orderRepository!! )
.!!) * 
GetOrdersAsViewModel!!* >
(!!> ?
User!!? C
.!!C D
Identity!!D L
.!!L M
Name!!M Q
)!!Q R
;!!R S
}"" 
return$$ 
View$$ 
($$ 
new$$ !
OrderHistoryViewModel$$ 1
{%% 
Orders&& 
=&& 
orders&& 
}'' 
)'' 
;'' 
}(( 	
})) 
}++ ¸'
PE:\Projects\FlowerShop\FlowerApp\FlowerApp\Controllers\ShoppingCartController.cs
	namespace

 	
	FlowerApp


 
.

 
Controllers

 
{ 
public 

class "
ShoppingCartController '
:( )

Controller* 4
{ 
private 
readonly 
IFlowerRepository *
_flowerRepository+ <
;< =
private 
readonly 
ShoppingCart %
_shoppingCart& 3
;3 4
public "
ShoppingCartController %
(% &
IFlowerRepository& 7
flowerRepository8 H
,H I
ShoppingCartJ V
shoppingCartW c
)c d
{ 	
_flowerRepository 
= 
flowerRepository  0
;0 1
_shoppingCart 
= 
shoppingCart (
;( )
} 	
public 

ViewResult 
Index 
(  
)  !
{ 	
var 
items 
= 
_shoppingCart %
.% & 
GetShoppingCartItems& :
(: ;
); <
;< =
_shoppingCart 
. 
ShoppingCartItems +
=, -
items. 3
;3 4
var !
shoppingCartViewModel %
=& '
new( +!
ShoppingCartViewModel, A
{ 
ShoppingCart 
= 
_shoppingCart ,
,, -
ShoppingCartTotal !
=" #
_shoppingCart$ 1
.1 2 
GetShoppingCartTotal2 F
(F G
)G H
}   
;   
return"" 
View"" 
("" !
shoppingCartViewModel"" -
)""- .
;"". /
}## 	
public%% "
RedirectToActionResult%% %
AddToShoppingCart%%& 7
(%%7 8
int%%8 ;
flowerId%%< D
)%%D E
{&& 	
var'' 
selectedFlower'' 
=''  
_flowerRepository''! 2
.''2 3
Flowers''3 :
.'': ;
FirstOrDefault''; I
(''I J
p''J K
=>''L N
p''O P
.''P Q
FlowerId''Q Y
==''Z \
flowerId''] e
)''e f
;''f g
if)) 
()) 
selectedFlower)) 
!=)) !
null))" &
)))& '
{** 
_shoppingCart++ 
.++ 
	AddToCart++ '
(++' (
selectedFlower++( 6
,++6 7
$num++8 9
)++9 :
;++: ;
},, 
return-- 
RedirectToAction-- #
(--# $
$str--$ +
)--+ ,
;--, -
}.. 	
public00 "
RedirectToActionResult00 %
UpdateShoppingCart00& 8
(008 9
int009 <
flowerId00= E
,00E F
bool00G K
isAdding00L T
)00T U
{11 	
var22 
selectedFlower22 
=22  
_flowerRepository22! 2
.222 3
Flowers223 :
.22: ;
FirstOrDefault22; I
(22I J
p22J K
=>22L N
p22O P
.22P Q
FlowerId22Q Y
==22Z \
flowerId22] e
)22e f
;22f g
if44 
(44 
selectedFlower44 
!=44 !
null44" &
)44& '
{55 
if66 
(66 
isAdding66 
)66 
{77 
_shoppingCart88 !
.88! "
	AddToCart88" +
(88+ ,
selectedFlower88, :
,88: ;
$num88< =
)88= >
;88> ?
}99 
else:: 
{;; 
_shoppingCart<< !
.<<! "
	AddToCart<<" +
(<<+ ,
selectedFlower<<, :
,<<: ;
-<<< =
$num<<= >
)<<> ?
;<<? @
}== 
}>> 
return?? 
RedirectToAction?? #
(??# $
$str??$ +
)??+ ,
;??, -
}@@ 	
publicBB "
RedirectToActionResultBB %"
RemoveFromShoppingCartBB& <
(BB< =
intBB= @
flowerIdBBA I
)BBI J
{CC 	
varDD 
selectedFlowerDD 
=DD  
_flowerRepositoryDD! 2
.DD2 3
FlowersDD3 :
.DD: ;
FirstOrDefaultDD; I
(DDI J
pDDJ K
=>DDL N
pDDO P
.DDP Q
FlowerIdDDQ Y
==DDZ \
flowerIdDD] e
)DDe f
;DDf g
ifFF 
(FF 
selectedFlowerFF 
!=FF !
nullFF" &
)FF& '
{GG 
_shoppingCartHH 
.HH 
RemoveFromCartHH ,
(HH, -
selectedFlowerHH- ;
)HH; <
;HH< =
}II 
returnJJ 
RedirectToActionJJ #
(JJ# $
$strJJ$ +
)JJ+ ,
;JJ, -
}KK 	
}LL 
}MM Äœ
LE:\Projects\FlowerShop\FlowerApp\FlowerApp\Migrations\20191208173628_Init.cs
	namespace 	
	FlowerApp
 
. 

Migrations 
{ 
public 

partial 
class 
Init 
: 
	Migration  )
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
	maxLength0 9
:9 :
$num; >
,> ?
nullable@ H
:H I
trueJ N
)N O
,O P
NormalizedName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
	maxLength: C
:C D
$numE H
,H I
nullableJ R
:R S
trueT X
)X Y
,Y Z
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
nullable< D
:D E
trueF J
)J K
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
UserName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
	maxLength4 =
:= >
$num? B
,B C
nullableD L
:L M
trueN R
)R S
,S T
NormalizedUserName &
=' (
table) .
.. /
Column/ 5
<5 6
string6 <
>< =
(= >
	maxLength> G
:G H
$numI L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
Email   
=   
table   !
.  ! "
Column  " (
<  ( )
string  ) /
>  / 0
(  0 1
	maxLength  1 :
:  : ;
$num  < ?
,  ? @
nullable  A I
:  I J
true  K O
)  O P
,  P Q
NormalizedEmail!! #
=!!$ %
table!!& +
.!!+ ,
Column!!, 2
<!!2 3
string!!3 9
>!!9 :
(!!: ;
	maxLength!!; D
:!!D E
$num!!F I
,!!I J
nullable!!K S
:!!S T
true!!U Y
)!!Y Z
,!!Z [
EmailConfirmed"" "
=""# $
table""% *
.""* +
Column""+ 1
<""1 2
bool""2 6
>""6 7
(""7 8
nullable""8 @
:""@ A
false""B G
)""G H
,""H I
PasswordHash##  
=##! "
table### (
.##( )
Column##) /
<##/ 0
string##0 6
>##6 7
(##7 8
nullable##8 @
:##@ A
true##B F
)##F G
,##G H
SecurityStamp$$ !
=$$" #
table$$$ )
.$$) *
Column$$* 0
<$$0 1
string$$1 7
>$$7 8
($$8 9
nullable$$9 A
:$$A B
true$$C G
)$$G H
,$$H I
ConcurrencyStamp%% $
=%%% &
table%%' ,
.%%, -
Column%%- 3
<%%3 4
string%%4 :
>%%: ;
(%%; <
nullable%%< D
:%%D E
true%%F J
)%%J K
,%%K L
PhoneNumber&& 
=&&  !
table&&" '
.&&' (
Column&&( .
<&&. /
string&&/ 5
>&&5 6
(&&6 7
nullable&&7 ?
:&&? @
true&&A E
)&&E F
,&&F G 
PhoneNumberConfirmed'' (
='') *
table''+ 0
.''0 1
Column''1 7
<''7 8
bool''8 <
>''< =
(''= >
nullable''> F
:''F G
false''H M
)''M N
,''N O
TwoFactorEnabled(( $
=((% &
table((' ,
.((, -
Column((- 3
<((3 4
bool((4 8
>((8 9
(((9 :
nullable((: B
:((B C
false((D I
)((I J
,((J K

LockoutEnd)) 
=))  
table))! &
.))& '
Column))' -
<))- .
DateTimeOffset)). <
>))< =
())= >
nullable))> F
:))F G
true))H L
)))L M
,))M N
LockoutEnabled** "
=**# $
table**% *
.*** +
Column**+ 1
<**1 2
bool**2 6
>**6 7
(**7 8
nullable**8 @
:**@ A
false**B G
)**G H
,**H I
AccessFailedCount++ %
=++& '
table++( -
.++- .
Column++. 4
<++4 5
int++5 8
>++8 9
(++9 :
nullable++: B
:++B C
false++D I
)++I J
,++J K
	Birthdate,, 
=,, 
table,,  %
.,,% &
Column,,& ,
<,,, -
DateTime,,- 5
>,,5 6
(,,6 7
nullable,,7 ?
:,,? @
false,,A F
),,F G
,,,G H
City-- 
=-- 
table--  
.--  !
Column--! '
<--' (
string--( .
>--. /
(--/ 0
nullable--0 8
:--8 9
true--: >
)--> ?
,--? @
Country.. 
=.. 
table.. #
...# $
Column..$ *
<..* +
string..+ 1
>..1 2
(..2 3
nullable..3 ;
:..; <
true..= A
)..A B
}// 
,// 
constraints00 
:00 
table00 "
=>00# %
{11 
table22 
.22 

PrimaryKey22 $
(22$ %
$str22% 5
,225 6
x227 8
=>229 ;
x22< =
.22= >
Id22> @
)22@ A
;22A B
}33 
)33 
;33 
migrationBuilder55 
.55 
CreateTable55 (
(55( )
name66 
:66 
$str66 "
,66" #
columns77 
:77 
table77 
=>77 !
new77" %
{88 

CategoryId99 
=99  
table99! &
.99& '
Column99' -
<99- .
int99. 1
>991 2
(992 3
nullable993 ;
:99; <
false99= B
)99B C
.:: 

Annotation:: #
(::# $
$str::$ G
,::G H,
 SqlServerValueGenerationStrategy::I i
.::i j
IdentityColumn::j x
)::x y
,::y z
CategoryName;;  
=;;! "
table;;# (
.;;( )
Column;;) /
<;;/ 0
string;;0 6
>;;6 7
(;;7 8
nullable;;8 @
:;;@ A
true;;B F
);;F G
,;;G H
Description<< 
=<<  !
table<<" '
.<<' (
Column<<( .
<<<. /
string<</ 5
><<5 6
(<<6 7
nullable<<7 ?
:<<? @
true<<A E
)<<E F
}== 
,== 
constraints>> 
:>> 
table>> "
=>>># %
{?? 
table@@ 
.@@ 

PrimaryKey@@ $
(@@$ %
$str@@% 4
,@@4 5
x@@6 7
=>@@8 :
x@@; <
.@@< =

CategoryId@@= G
)@@G H
;@@H I
}AA 
)AA 
;AA 
migrationBuilderCC 
.CC 
CreateTableCC (
(CC( )
nameDD 
:DD 
$strDD 
,DD 
columnsEE 
:EE 
tableEE 
=>EE !
newEE" %
{FF 
OrderIdGG 
=GG 
tableGG #
.GG# $
ColumnGG$ *
<GG* +
intGG+ .
>GG. /
(GG/ 0
nullableGG0 8
:GG8 9
falseGG: ?
)GG? @
.HH 

AnnotationHH #
(HH# $
$strHH$ G
,HHG H,
 SqlServerValueGenerationStrategyHHI i
.HHi j
IdentityColumnHHj x
)HHx y
,HHy z
	FirstNameII 
=II 
tableII  %
.II% &
ColumnII& ,
<II, -
stringII- 3
>II3 4
(II4 5
	maxLengthII5 >
:II> ?
$numII@ B
,IIB C
nullableIID L
:IIL M
falseIIN S
)IIS T
,IIT U
LastNameJJ 
=JJ 
tableJJ $
.JJ$ %
ColumnJJ% +
<JJ+ ,
stringJJ, 2
>JJ2 3
(JJ3 4
	maxLengthJJ4 =
:JJ= >
$numJJ? A
,JJA B
nullableJJC K
:JJK L
falseJJM R
)JJR S
,JJS T
AddressLine1KK  
=KK! "
tableKK# (
.KK( )
ColumnKK) /
<KK/ 0
stringKK0 6
>KK6 7
(KK7 8
	maxLengthKK8 A
:KKA B
$numKKC F
,KKF G
nullableKKH P
:KKP Q
falseKKR W
)KKW X
,KKX Y
AddressLine2LL  
=LL! "
tableLL# (
.LL( )
ColumnLL) /
<LL/ 0
stringLL0 6
>LL6 7
(LL7 8
nullableLL8 @
:LL@ A
trueLLB F
)LLF G
,LLG H
ZipCodeMM 
=MM 
tableMM #
.MM# $
ColumnMM$ *
<MM* +
stringMM+ 1
>MM1 2
(MM2 3
	maxLengthMM3 <
:MM< =
$numMM> @
,MM@ A
nullableMMB J
:MMJ K
falseMML Q
)MMQ R
,MMR S
CityNN 
=NN 
tableNN  
.NN  !
ColumnNN! '
<NN' (
stringNN( .
>NN. /
(NN/ 0
	maxLengthNN0 9
:NN9 :
$numNN; =
,NN= >
nullableNN? G
:NNG H
falseNNI N
)NNN O
,NNO P
StateOO 
=OO 
tableOO !
.OO! "
ColumnOO" (
<OO( )
stringOO) /
>OO/ 0
(OO0 1
	maxLengthOO1 :
:OO: ;
$numOO< >
,OO> ?
nullableOO@ H
:OOH I
trueOOJ N
)OON O
,OOO P
CountryPP 
=PP 
tablePP #
.PP# $
ColumnPP$ *
<PP* +
stringPP+ 1
>PP1 2
(PP2 3
	maxLengthPP3 <
:PP< =
$numPP> @
,PP@ A
nullablePPB J
:PPJ K
falsePPL Q
)PPQ R
,PPR S
PhoneNumberQQ 
=QQ  !
tableQQ" '
.QQ' (
ColumnQQ( .
<QQ. /
stringQQ/ 5
>QQ5 6
(QQ6 7
	maxLengthQQ7 @
:QQ@ A
$numQQB D
,QQD E
nullableQQF N
:QQN O
falseQQP U
)QQU V
,QQV W
EmailRR 
=RR 
tableRR !
.RR! "
ColumnRR" (
<RR( )
stringRR) /
>RR/ 0
(RR0 1
	maxLengthRR1 :
:RR: ;
$numRR< >
,RR> ?
nullableRR@ H
:RRH I
falseRRJ O
)RRO P
,RRP Q

OrderTotalSS 
=SS  
tableSS! &
.SS& '
ColumnSS' -
<SS- .
decimalSS. 5
>SS5 6
(SS6 7
nullableSS7 ?
:SS? @
falseSSA F
)SSF G
,SSG H
OrderPlacedTT 
=TT  !
tableTT" '
.TT' (
ColumnTT( .
<TT. /
DateTimeTT/ 7
>TT7 8
(TT8 9
nullableTT9 A
:TTA B
falseTTC H
)TTH I
}UU 
,UU 
constraintsVV 
:VV 
tableVV "
=>VV# %
{WW 
tableXX 
.XX 

PrimaryKeyXX $
(XX$ %
$strXX% 0
,XX0 1
xXX2 3
=>XX4 6
xXX7 8
.XX8 9
OrderIdXX9 @
)XX@ A
;XXA B
}YY 
)YY 
;YY 
migrationBuilder[[ 
.[[ 
CreateTable[[ (
([[( )
name\\ 
:\\ 
$str\\ (
,\\( )
columns]] 
:]] 
table]] 
=>]] !
new]]" %
{^^ 
Id__ 
=__ 
table__ 
.__ 
Column__ %
<__% &
int__& )
>__) *
(__* +
nullable__+ 3
:__3 4
false__5 :
)__: ;
.`` 

Annotation`` #
(``# $
$str``$ G
,``G H,
 SqlServerValueGenerationStrategy``I i
.``i j
IdentityColumn``j x
)``x y
,``y z
RoleIdaa 
=aa 
tableaa "
.aa" #
Columnaa# )
<aa) *
stringaa* 0
>aa0 1
(aa1 2
nullableaa2 :
:aa: ;
falseaa< A
)aaA B
,aaB C
	ClaimTypebb 
=bb 
tablebb  %
.bb% &
Columnbb& ,
<bb, -
stringbb- 3
>bb3 4
(bb4 5
nullablebb5 =
:bb= >
truebb? C
)bbC D
,bbD E

ClaimValuecc 
=cc  
tablecc! &
.cc& '
Columncc' -
<cc- .
stringcc. 4
>cc4 5
(cc5 6
nullablecc6 >
:cc> ?
truecc@ D
)ccD E
}dd 
,dd 
constraintsee 
:ee 
tableee "
=>ee# %
{ff 
tablegg 
.gg 

PrimaryKeygg $
(gg$ %
$strgg% :
,gg: ;
xgg< =
=>gg> @
xggA B
.ggB C
IdggC E
)ggE F
;ggF G
tablehh 
.hh 

ForeignKeyhh $
(hh$ %
nameii 
:ii 
$strii F
,iiF G
columnjj 
:jj 
xjj  !
=>jj" $
xjj% &
.jj& '
RoleIdjj' -
,jj- .
principalTablekk &
:kk& '
$strkk( 5
,kk5 6
principalColumnll '
:ll' (
$strll) -
,ll- .
onDeletemm  
:mm  !
ReferentialActionmm" 3
.mm3 4
Cascademm4 ;
)mm; <
;mm< =
}nn 
)nn 
;nn 
migrationBuilderpp 
.pp 
CreateTablepp (
(pp( )
nameqq 
:qq 
$strqq (
,qq( )
columnsrr 
:rr 
tablerr 
=>rr !
newrr" %
{ss 
Idtt 
=tt 
tablett 
.tt 
Columntt %
<tt% &
inttt& )
>tt) *
(tt* +
nullablett+ 3
:tt3 4
falsett5 :
)tt: ;
.uu 

Annotationuu #
(uu# $
$struu$ G
,uuG H,
 SqlServerValueGenerationStrategyuuI i
.uui j
IdentityColumnuuj x
)uux y
,uuy z
UserIdvv 
=vv 
tablevv "
.vv" #
Columnvv# )
<vv) *
stringvv* 0
>vv0 1
(vv1 2
nullablevv2 :
:vv: ;
falsevv< A
)vvA B
,vvB C
	ClaimTypeww 
=ww 
tableww  %
.ww% &
Columnww& ,
<ww, -
stringww- 3
>ww3 4
(ww4 5
nullableww5 =
:ww= >
trueww? C
)wwC D
,wwD E

ClaimValuexx 
=xx  
tablexx! &
.xx& '
Columnxx' -
<xx- .
stringxx. 4
>xx4 5
(xx5 6
nullablexx6 >
:xx> ?
truexx@ D
)xxD E
}yy 
,yy 
constraintszz 
:zz 
tablezz "
=>zz# %
{{{ 
table|| 
.|| 

PrimaryKey|| $
(||$ %
$str||% :
,||: ;
x||< =
=>||> @
x||A B
.||B C
Id||C E
)||E F
;||F G
table}} 
.}} 

ForeignKey}} $
(}}$ %
name~~ 
:~~ 
$str~~ F
,~~F G
column 
: 
x  !
=>" $
x% &
.& '
UserId' -
,- .
principalTable
ÄÄ &
:
ÄÄ& '
$str
ÄÄ( 5
,
ÄÄ5 6
principalColumn
ÅÅ '
:
ÅÅ' (
$str
ÅÅ) -
,
ÅÅ- .
onDelete
ÇÇ  
:
ÇÇ  !
ReferentialAction
ÇÇ" 3
.
ÇÇ3 4
Cascade
ÇÇ4 ;
)
ÇÇ; <
;
ÇÇ< =
}
ÉÉ 
)
ÉÉ 
;
ÉÉ 
migrationBuilder
ÖÖ 
.
ÖÖ 
CreateTable
ÖÖ (
(
ÖÖ( )
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ (
,
ÜÜ( )
columns
áá 
:
áá 
table
áá 
=>
áá !
new
áá" %
{
àà 
LoginProvider
ââ !
=
ââ" #
table
ââ$ )
.
ââ) *
Column
ââ* 0
<
ââ0 1
string
ââ1 7
>
ââ7 8
(
ââ8 9
nullable
ââ9 A
:
ââA B
false
ââC H
)
ââH I
,
ââI J
ProviderKey
ää 
=
ää  !
table
ää" '
.
ää' (
Column
ää( .
<
ää. /
string
ää/ 5
>
ää5 6
(
ää6 7
nullable
ää7 ?
:
ää? @
false
ääA F
)
ääF G
,
ääG H!
ProviderDisplayName
ãã '
=
ãã( )
table
ãã* /
.
ãã/ 0
Column
ãã0 6
<
ãã6 7
string
ãã7 =
>
ãã= >
(
ãã> ?
nullable
ãã? G
:
ããG H
true
ããI M
)
ããM N
,
ããN O
UserId
åå 
=
åå 
table
åå "
.
åå" #
Column
åå# )
<
åå) *
string
åå* 0
>
åå0 1
(
åå1 2
nullable
åå2 :
:
åå: ;
false
åå< A
)
ååA B
}
çç 
,
çç 
constraints
éé 
:
éé 
table
éé "
=>
éé# %
{
èè 
table
êê 
.
êê 

PrimaryKey
êê $
(
êê$ %
$str
êê% :
,
êê: ;
x
êê< =
=>
êê> @
new
êêA D
{
êêE F
x
êêG H
.
êêH I
LoginProvider
êêI V
,
êêV W
x
êêX Y
.
êêY Z
ProviderKey
êêZ e
}
êêf g
)
êêg h
;
êêh i
table
ëë 
.
ëë 

ForeignKey
ëë $
(
ëë$ %
name
íí 
:
íí 
$str
íí F
,
ííF G
column
ìì 
:
ìì 
x
ìì  !
=>
ìì" $
x
ìì% &
.
ìì& '
UserId
ìì' -
,
ìì- .
principalTable
îî &
:
îî& '
$str
îî( 5
,
îî5 6
principalColumn
ïï '
:
ïï' (
$str
ïï) -
,
ïï- .
onDelete
ññ  
:
ññ  !
ReferentialAction
ññ" 3
.
ññ3 4
Cascade
ññ4 ;
)
ññ; <
;
ññ< =
}
óó 
)
óó 
;
óó 
migrationBuilder
ôô 
.
ôô 
CreateTable
ôô (
(
ôô( )
name
öö 
:
öö 
$str
öö '
,
öö' (
columns
õõ 
:
õõ 
table
õõ 
=>
õõ !
new
õõ" %
{
úú 
UserId
ùù 
=
ùù 
table
ùù "
.
ùù" #
Column
ùù# )
<
ùù) *
string
ùù* 0
>
ùù0 1
(
ùù1 2
nullable
ùù2 :
:
ùù: ;
false
ùù< A
)
ùùA B
,
ùùB C
RoleId
ûû 
=
ûû 
table
ûû "
.
ûû" #
Column
ûû# )
<
ûû) *
string
ûû* 0
>
ûû0 1
(
ûû1 2
nullable
ûû2 :
:
ûû: ;
false
ûû< A
)
ûûA B
}
üü 
,
üü 
constraints
†† 
:
†† 
table
†† "
=>
††# %
{
°° 
table
¢¢ 
.
¢¢ 

PrimaryKey
¢¢ $
(
¢¢$ %
$str
¢¢% 9
,
¢¢9 :
x
¢¢; <
=>
¢¢= ?
new
¢¢@ C
{
¢¢D E
x
¢¢F G
.
¢¢G H
UserId
¢¢H N
,
¢¢N O
x
¢¢P Q
.
¢¢Q R
RoleId
¢¢R X
}
¢¢Y Z
)
¢¢Z [
;
¢¢[ \
table
££ 
.
££ 

ForeignKey
££ $
(
££$ %
name
§§ 
:
§§ 
$str
§§ E
,
§§E F
column
•• 
:
•• 
x
••  !
=>
••" $
x
••% &
.
••& '
RoleId
••' -
,
••- .
principalTable
¶¶ &
:
¶¶& '
$str
¶¶( 5
,
¶¶5 6
principalColumn
ßß '
:
ßß' (
$str
ßß) -
,
ßß- .
onDelete
®®  
:
®®  !
ReferentialAction
®®" 3
.
®®3 4
Cascade
®®4 ;
)
®®; <
;
®®< =
table
©© 
.
©© 

ForeignKey
©© $
(
©©$ %
name
™™ 
:
™™ 
$str
™™ E
,
™™E F
column
´´ 
:
´´ 
x
´´  !
=>
´´" $
x
´´% &
.
´´& '
UserId
´´' -
,
´´- .
principalTable
¨¨ &
:
¨¨& '
$str
¨¨( 5
,
¨¨5 6
principalColumn
≠≠ '
:
≠≠' (
$str
≠≠) -
,
≠≠- .
onDelete
ÆÆ  
:
ÆÆ  !
ReferentialAction
ÆÆ" 3
.
ÆÆ3 4
Cascade
ÆÆ4 ;
)
ÆÆ; <
;
ÆÆ< =
}
ØØ 
)
ØØ 
;
ØØ 
migrationBuilder
±± 
.
±± 
CreateTable
±± (
(
±±( )
name
≤≤ 
:
≤≤ 
$str
≤≤ (
,
≤≤( )
columns
≥≥ 
:
≥≥ 
table
≥≥ 
=>
≥≥ !
new
≥≥" %
{
¥¥ 
UserId
µµ 
=
µµ 
table
µµ "
.
µµ" #
Column
µµ# )
<
µµ) *
string
µµ* 0
>
µµ0 1
(
µµ1 2
nullable
µµ2 :
:
µµ: ;
false
µµ< A
)
µµA B
,
µµB C
LoginProvider
∂∂ !
=
∂∂" #
table
∂∂$ )
.
∂∂) *
Column
∂∂* 0
<
∂∂0 1
string
∂∂1 7
>
∂∂7 8
(
∂∂8 9
nullable
∂∂9 A
:
∂∂A B
false
∂∂C H
)
∂∂H I
,
∂∂I J
Name
∑∑ 
=
∑∑ 
table
∑∑  
.
∑∑  !
Column
∑∑! '
<
∑∑' (
string
∑∑( .
>
∑∑. /
(
∑∑/ 0
nullable
∑∑0 8
:
∑∑8 9
false
∑∑: ?
)
∑∑? @
,
∑∑@ A
Value
∏∏ 
=
∏∏ 
table
∏∏ !
.
∏∏! "
Column
∏∏" (
<
∏∏( )
string
∏∏) /
>
∏∏/ 0
(
∏∏0 1
nullable
∏∏1 9
:
∏∏9 :
true
∏∏; ?
)
∏∏? @
}
ππ 
,
ππ 
constraints
∫∫ 
:
∫∫ 
table
∫∫ "
=>
∫∫# %
{
ªª 
table
ºº 
.
ºº 

PrimaryKey
ºº $
(
ºº$ %
$str
ºº% :
,
ºº: ;
x
ºº< =
=>
ºº> @
new
ººA D
{
ººE F
x
ººG H
.
ººH I
UserId
ººI O
,
ººO P
x
ººQ R
.
ººR S
LoginProvider
ººS `
,
ºº` a
x
ººb c
.
ººc d
Name
ººd h
}
ººi j
)
ººj k
;
ººk l
table
ΩΩ 
.
ΩΩ 

ForeignKey
ΩΩ $
(
ΩΩ$ %
name
ææ 
:
ææ 
$str
ææ F
,
ææF G
column
øø 
:
øø 
x
øø  !
=>
øø" $
x
øø% &
.
øø& '
UserId
øø' -
,
øø- .
principalTable
¿¿ &
:
¿¿& '
$str
¿¿( 5
,
¿¿5 6
principalColumn
¡¡ '
:
¡¡' (
$str
¡¡) -
,
¡¡- .
onDelete
¬¬  
:
¬¬  !
ReferentialAction
¬¬" 3
.
¬¬3 4
Cascade
¬¬4 ;
)
¬¬; <
;
¬¬< =
}
√√ 
)
√√ 
;
√√ 
migrationBuilder
≈≈ 
.
≈≈ 
CreateTable
≈≈ (
(
≈≈( )
name
∆∆ 
:
∆∆ 
$str
∆∆ 
,
∆∆  
columns
«« 
:
«« 
table
«« 
=>
«« !
new
««" %
{
»» 
FlowerId
…… 
=
…… 
table
…… $
.
……$ %
Column
……% +
<
……+ ,
int
……, /
>
……/ 0
(
……0 1
nullable
……1 9
:
……9 :
false
……; @
)
……@ A
.
   

Annotation
   #
(
  # $
$str
  $ G
,
  G H.
 SqlServerValueGenerationStrategy
  I i
.
  i j
IdentityColumn
  j x
)
  x y
,
  y z
Name
ÀÀ 
=
ÀÀ 
table
ÀÀ  
.
ÀÀ  !
Column
ÀÀ! '
<
ÀÀ' (
string
ÀÀ( .
>
ÀÀ. /
(
ÀÀ/ 0
nullable
ÀÀ0 8
:
ÀÀ8 9
true
ÀÀ: >
)
ÀÀ> ?
,
ÀÀ? @
ShortDescription
ÃÃ $
=
ÃÃ% &
table
ÃÃ' ,
.
ÃÃ, -
Column
ÃÃ- 3
<
ÃÃ3 4
string
ÃÃ4 :
>
ÃÃ: ;
(
ÃÃ; <
nullable
ÃÃ< D
:
ÃÃD E
true
ÃÃF J
)
ÃÃJ K
,
ÃÃK L
LongDescription
ÕÕ #
=
ÕÕ$ %
table
ÕÕ& +
.
ÕÕ+ ,
Column
ÕÕ, 2
<
ÕÕ2 3
string
ÕÕ3 9
>
ÕÕ9 :
(
ÕÕ: ;
nullable
ÕÕ; C
:
ÕÕC D
true
ÕÕE I
)
ÕÕI J
,
ÕÕJ K
Price
ŒŒ 
=
ŒŒ 
table
ŒŒ !
.
ŒŒ! "
Column
ŒŒ" (
<
ŒŒ( )
decimal
ŒŒ) 0
>
ŒŒ0 1
(
ŒŒ1 2
nullable
ŒŒ2 :
:
ŒŒ: ;
false
ŒŒ< A
)
ŒŒA B
,
ŒŒB C
ImageUrl
œœ 
=
œœ 
table
œœ $
.
œœ$ %
Column
œœ% +
<
œœ+ ,
string
œœ, 2
>
œœ2 3
(
œœ3 4
nullable
œœ4 <
:
œœ< =
true
œœ> B
)
œœB C
,
œœC D
ImageThumbnailUrl
–– %
=
––& '
table
––( -
.
––- .
Column
––. 4
<
––4 5
string
––5 ;
>
––; <
(
––< =
nullable
––= E
:
––E F
true
––G K
)
––K L
,
––L M
InStock
—— 
=
—— 
table
—— #
.
——# $
Column
——$ *
<
——* +
bool
——+ /
>
——/ 0
(
——0 1
nullable
——1 9
:
——9 :
false
——; @
)
——@ A
,
——A B

CategoryId
““ 
=
““  
table
““! &
.
““& '
Column
““' -
<
““- .
int
““. 1
>
““1 2
(
““2 3
nullable
““3 ;
:
““; <
false
““= B
)
““B C
,
““C D"
IsFlowerPresentation
”” (
=
””) *
table
””+ 0
.
””0 1
Column
””1 7
<
””7 8
bool
””8 <
>
””< =
(
””= >
nullable
””> F
:
””F G
false
””H M
)
””M N
}
‘‘ 
,
‘‘ 
constraints
’’ 
:
’’ 
table
’’ "
=>
’’# %
{
÷÷ 
table
◊◊ 
.
◊◊ 

PrimaryKey
◊◊ $
(
◊◊$ %
$str
◊◊% 1
,
◊◊1 2
x
◊◊3 4
=>
◊◊5 7
x
◊◊8 9
.
◊◊9 :
FlowerId
◊◊: B
)
◊◊B C
;
◊◊C D
table
ÿÿ 
.
ÿÿ 

ForeignKey
ÿÿ $
(
ÿÿ$ %
name
ŸŸ 
:
ŸŸ 
$str
ŸŸ @
,
ŸŸ@ A
column
⁄⁄ 
:
⁄⁄ 
x
⁄⁄  !
=>
⁄⁄" $
x
⁄⁄% &
.
⁄⁄& '

CategoryId
⁄⁄' 1
,
⁄⁄1 2
principalTable
€€ &
:
€€& '
$str
€€( 4
,
€€4 5
principalColumn
‹‹ '
:
‹‹' (
$str
‹‹) 5
,
‹‹5 6
onDelete
››  
:
››  !
ReferentialAction
››" 3
.
››3 4
Cascade
››4 ;
)
››; <
;
››< =
}
ﬁﬁ 
)
ﬁﬁ 
;
ﬁﬁ 
migrationBuilder
‡‡ 
.
‡‡ 
CreateTable
‡‡ (
(
‡‡( )
name
·· 
:
·· 
$str
·· $
,
··$ %
columns
‚‚ 
:
‚‚ 
table
‚‚ 
=>
‚‚ !
new
‚‚" %
{
„„ 
OrderDetailId
‰‰ !
=
‰‰" #
table
‰‰$ )
.
‰‰) *
Column
‰‰* 0
<
‰‰0 1
int
‰‰1 4
>
‰‰4 5
(
‰‰5 6
nullable
‰‰6 >
:
‰‰> ?
false
‰‰@ E
)
‰‰E F
.
ÂÂ 

Annotation
ÂÂ #
(
ÂÂ# $
$str
ÂÂ$ G
,
ÂÂG H.
 SqlServerValueGenerationStrategy
ÂÂI i
.
ÂÂi j
IdentityColumn
ÂÂj x
)
ÂÂx y
,
ÂÂy z
OrderId
ÊÊ 
=
ÊÊ 
table
ÊÊ #
.
ÊÊ# $
Column
ÊÊ$ *
<
ÊÊ* +
int
ÊÊ+ .
>
ÊÊ. /
(
ÊÊ/ 0
nullable
ÊÊ0 8
:
ÊÊ8 9
false
ÊÊ: ?
)
ÊÊ? @
,
ÊÊ@ A
FlowerId
ÁÁ 
=
ÁÁ 
table
ÁÁ $
.
ÁÁ$ %
Column
ÁÁ% +
<
ÁÁ+ ,
int
ÁÁ, /
>
ÁÁ/ 0
(
ÁÁ0 1
nullable
ÁÁ1 9
:
ÁÁ9 :
false
ÁÁ; @
)
ÁÁ@ A
,
ÁÁA B
Amount
ËË 
=
ËË 
table
ËË "
.
ËË" #
Column
ËË# )
<
ËË) *
int
ËË* -
>
ËË- .
(
ËË. /
nullable
ËË/ 7
:
ËË7 8
false
ËË9 >
)
ËË> ?
,
ËË? @
Price
ÈÈ 
=
ÈÈ 
table
ÈÈ !
.
ÈÈ! "
Column
ÈÈ" (
<
ÈÈ( )
decimal
ÈÈ) 0
>
ÈÈ0 1
(
ÈÈ1 2
nullable
ÈÈ2 :
:
ÈÈ: ;
false
ÈÈ< A
)
ÈÈA B
}
ÍÍ 
,
ÍÍ 
constraints
ÎÎ 
:
ÎÎ 
table
ÎÎ "
=>
ÎÎ# %
{
ÏÏ 
table
ÌÌ 
.
ÌÌ 

PrimaryKey
ÌÌ $
(
ÌÌ$ %
$str
ÌÌ% 6
,
ÌÌ6 7
x
ÌÌ8 9
=>
ÌÌ: <
x
ÌÌ= >
.
ÌÌ> ?
OrderDetailId
ÌÌ? L
)
ÌÌL M
;
ÌÌM N
table
ÓÓ 
.
ÓÓ 

ForeignKey
ÓÓ $
(
ÓÓ$ %
name
ÔÔ 
:
ÔÔ 
$str
ÔÔ @
,
ÔÔ@ A
column
 
:
 
x
  !
=>
" $
x
% &
.
& '
FlowerId
' /
,
/ 0
principalTable
ÒÒ &
:
ÒÒ& '
$str
ÒÒ( 1
,
ÒÒ1 2
principalColumn
ÚÚ '
:
ÚÚ' (
$str
ÚÚ) 3
,
ÚÚ3 4
onDelete
ÛÛ  
:
ÛÛ  !
ReferentialAction
ÛÛ" 3
.
ÛÛ3 4
Cascade
ÛÛ4 ;
)
ÛÛ; <
;
ÛÛ< =
table
ÙÙ 
.
ÙÙ 

ForeignKey
ÙÙ $
(
ÙÙ$ %
name
ıı 
:
ıı 
$str
ıı >
,
ıı> ?
column
ˆˆ 
:
ˆˆ 
x
ˆˆ  !
=>
ˆˆ" $
x
ˆˆ% &
.
ˆˆ& '
OrderId
ˆˆ' .
,
ˆˆ. /
principalTable
˜˜ &
:
˜˜& '
$str
˜˜( 0
,
˜˜0 1
principalColumn
¯¯ '
:
¯¯' (
$str
¯¯) 2
,
¯¯2 3
onDelete
˘˘  
:
˘˘  !
ReferentialAction
˘˘" 3
.
˘˘3 4
Cascade
˘˘4 ;
)
˘˘; <
;
˘˘< =
}
˙˙ 
)
˙˙ 
;
˙˙ 
migrationBuilder
¸¸ 
.
¸¸ 
CreateTable
¸¸ (
(
¸¸( )
name
˝˝ 
:
˝˝ 
$str
˝˝ )
,
˝˝) *
columns
˛˛ 
:
˛˛ 
table
˛˛ 
=>
˛˛ !
new
˛˛" %
{
ˇˇ  
ShoppingCartItemId
ÄÄ &
=
ÄÄ' (
table
ÄÄ) .
.
ÄÄ. /
Column
ÄÄ/ 5
<
ÄÄ5 6
int
ÄÄ6 9
>
ÄÄ9 :
(
ÄÄ: ;
nullable
ÄÄ; C
:
ÄÄC D
false
ÄÄE J
)
ÄÄJ K
.
ÅÅ 

Annotation
ÅÅ #
(
ÅÅ# $
$str
ÅÅ$ G
,
ÅÅG H.
 SqlServerValueGenerationStrategy
ÅÅI i
.
ÅÅi j
IdentityColumn
ÅÅj x
)
ÅÅx y
,
ÅÅy z
FlowerId
ÇÇ 
=
ÇÇ 
table
ÇÇ $
.
ÇÇ$ %
Column
ÇÇ% +
<
ÇÇ+ ,
int
ÇÇ, /
>
ÇÇ/ 0
(
ÇÇ0 1
nullable
ÇÇ1 9
:
ÇÇ9 :
true
ÇÇ; ?
)
ÇÇ? @
,
ÇÇ@ A
Amount
ÉÉ 
=
ÉÉ 
table
ÉÉ "
.
ÉÉ" #
Column
ÉÉ# )
<
ÉÉ) *
int
ÉÉ* -
>
ÉÉ- .
(
ÉÉ. /
nullable
ÉÉ/ 7
:
ÉÉ7 8
false
ÉÉ9 >
)
ÉÉ> ?
,
ÉÉ? @
ShoppingCartId
ÑÑ "
=
ÑÑ# $
table
ÑÑ% *
.
ÑÑ* +
Column
ÑÑ+ 1
<
ÑÑ1 2
string
ÑÑ2 8
>
ÑÑ8 9
(
ÑÑ9 :
nullable
ÑÑ: B
:
ÑÑB C
true
ÑÑD H
)
ÑÑH I
}
ÖÖ 
,
ÖÖ 
constraints
ÜÜ 
:
ÜÜ 
table
ÜÜ "
=>
ÜÜ# %
{
áá 
table
àà 
.
àà 

PrimaryKey
àà $
(
àà$ %
$str
àà% ;
,
àà; <
x
àà= >
=>
àà? A
x
ààB C
.
ààC D 
ShoppingCartItemId
ààD V
)
ààV W
;
ààW X
table
ââ 
.
ââ 

ForeignKey
ââ $
(
ââ$ %
name
ää 
:
ää 
$str
ää E
,
ääE F
column
ãã 
:
ãã 
x
ãã  !
=>
ãã" $
x
ãã% &
.
ãã& '
FlowerId
ãã' /
,
ãã/ 0
principalTable
åå &
:
åå& '
$str
åå( 1
,
åå1 2
principalColumn
çç '
:
çç' (
$str
çç) 3
,
çç3 4
onDelete
éé  
:
éé  !
ReferentialAction
éé" 3
.
éé3 4
Restrict
éé4 <
)
éé< =
;
éé= >
}
èè 
)
èè 
;
èè 
migrationBuilder
ëë 
.
ëë 
CreateIndex
ëë (
(
ëë( )
name
íí 
:
íí 
$str
íí 2
,
íí2 3
table
ìì 
:
ìì 
$str
ìì )
,
ìì) *
column
îî 
:
îî 
$str
îî  
)
îî  !
;
îî! "
migrationBuilder
ññ 
.
ññ 
CreateIndex
ññ (
(
ññ( )
name
óó 
:
óó 
$str
óó %
,
óó% &
table
òò 
:
òò 
$str
òò $
,
òò$ %
column
ôô 
:
ôô 
$str
ôô (
,
ôô( )
unique
öö 
:
öö 
true
öö 
,
öö 
filter
õõ 
:
õõ 
$str
õõ 6
)
õõ6 7
;
õõ7 8
migrationBuilder
ùù 
.
ùù 
CreateIndex
ùù (
(
ùù( )
name
ûû 
:
ûû 
$str
ûû 2
,
ûû2 3
table
üü 
:
üü 
$str
üü )
,
üü) *
column
†† 
:
†† 
$str
††  
)
††  !
;
††! "
migrationBuilder
¢¢ 
.
¢¢ 
CreateIndex
¢¢ (
(
¢¢( )
name
££ 
:
££ 
$str
££ 2
,
££2 3
table
§§ 
:
§§ 
$str
§§ )
,
§§) *
column
•• 
:
•• 
$str
••  
)
••  !
;
••! "
migrationBuilder
ßß 
.
ßß 
CreateIndex
ßß (
(
ßß( )
name
®® 
:
®® 
$str
®® 1
,
®®1 2
table
©© 
:
©© 
$str
©© (
,
©©( )
column
™™ 
:
™™ 
$str
™™  
)
™™  !
;
™™! "
migrationBuilder
¨¨ 
.
¨¨ 
CreateIndex
¨¨ (
(
¨¨( )
name
≠≠ 
:
≠≠ 
$str
≠≠ "
,
≠≠" #
table
ÆÆ 
:
ÆÆ 
$str
ÆÆ $
,
ÆÆ$ %
column
ØØ 
:
ØØ 
$str
ØØ )
)
ØØ) *
;
ØØ* +
migrationBuilder
±± 
.
±± 
CreateIndex
±± (
(
±±( )
name
≤≤ 
:
≤≤ 
$str
≤≤ %
,
≤≤% &
table
≥≥ 
:
≥≥ 
$str
≥≥ $
,
≥≥$ %
column
¥¥ 
:
¥¥ 
$str
¥¥ ,
,
¥¥, -
unique
µµ 
:
µµ 
true
µµ 
,
µµ 
filter
∂∂ 
:
∂∂ 
$str
∂∂ :
)
∂∂: ;
;
∂∂; <
migrationBuilder
∏∏ 
.
∏∏ 
CreateIndex
∏∏ (
(
∏∏( )
name
ππ 
:
ππ 
$str
ππ -
,
ππ- .
table
∫∫ 
:
∫∫ 
$str
∫∫  
,
∫∫  !
column
ªª 
:
ªª 
$str
ªª $
)
ªª$ %
;
ªª% &
migrationBuilder
ΩΩ 
.
ΩΩ 
CreateIndex
ΩΩ (
(
ΩΩ( )
name
ææ 
:
ææ 
$str
ææ 0
,
ææ0 1
table
øø 
:
øø 
$str
øø %
,
øø% &
column
¿¿ 
:
¿¿ 
$str
¿¿ "
)
¿¿" #
;
¿¿# $
migrationBuilder
¬¬ 
.
¬¬ 
CreateIndex
¬¬ (
(
¬¬( )
name
√√ 
:
√√ 
$str
√√ /
,
√√/ 0
table
ƒƒ 
:
ƒƒ 
$str
ƒƒ %
,
ƒƒ% &
column
≈≈ 
:
≈≈ 
$str
≈≈ !
)
≈≈! "
;
≈≈" #
migrationBuilder
«« 
.
«« 
CreateIndex
«« (
(
««( )
name
»» 
:
»» 
$str
»» 5
,
»»5 6
table
…… 
:
…… 
$str
…… *
,
……* +
column
   
:
   
$str
   "
)
  " #
;
  # $
}
ÀÀ 	
	protected
ÕÕ 
override
ÕÕ 
void
ÕÕ 
Down
ÕÕ  $
(
ÕÕ$ %
MigrationBuilder
ÕÕ% 5
migrationBuilder
ÕÕ6 F
)
ÕÕF G
{
ŒŒ 	
migrationBuilder
œœ 
.
œœ 
	DropTable
œœ &
(
œœ& '
name
–– 
:
–– 
$str
–– (
)
––( )
;
––) *
migrationBuilder
““ 
.
““ 
	DropTable
““ &
(
““& '
name
”” 
:
”” 
$str
”” (
)
””( )
;
””) *
migrationBuilder
’’ 
.
’’ 
	DropTable
’’ &
(
’’& '
name
÷÷ 
:
÷÷ 
$str
÷÷ (
)
÷÷( )
;
÷÷) *
migrationBuilder
ÿÿ 
.
ÿÿ 
	DropTable
ÿÿ &
(
ÿÿ& '
name
ŸŸ 
:
ŸŸ 
$str
ŸŸ '
)
ŸŸ' (
;
ŸŸ( )
migrationBuilder
€€ 
.
€€ 
	DropTable
€€ &
(
€€& '
name
‹‹ 
:
‹‹ 
$str
‹‹ (
)
‹‹( )
;
‹‹) *
migrationBuilder
ﬁﬁ 
.
ﬁﬁ 
	DropTable
ﬁﬁ &
(
ﬁﬁ& '
name
ﬂﬂ 
:
ﬂﬂ 
$str
ﬂﬂ $
)
ﬂﬂ$ %
;
ﬂﬂ% &
migrationBuilder
·· 
.
·· 
	DropTable
·· &
(
··& '
name
‚‚ 
:
‚‚ 
$str
‚‚ )
)
‚‚) *
;
‚‚* +
migrationBuilder
‰‰ 
.
‰‰ 
	DropTable
‰‰ &
(
‰‰& '
name
ÂÂ 
:
ÂÂ 
$str
ÂÂ #
)
ÂÂ# $
;
ÂÂ$ %
migrationBuilder
ÁÁ 
.
ÁÁ 
	DropTable
ÁÁ &
(
ÁÁ& '
name
ËË 
:
ËË 
$str
ËË #
)
ËË# $
;
ËË$ %
migrationBuilder
ÍÍ 
.
ÍÍ 
	DropTable
ÍÍ &
(
ÍÍ& '
name
ÎÎ 
:
ÎÎ 
$str
ÎÎ 
)
ÎÎ 
;
ÎÎ  
migrationBuilder
ÌÌ 
.
ÌÌ 
	DropTable
ÌÌ &
(
ÌÌ& '
name
ÓÓ 
:
ÓÓ 
$str
ÓÓ 
)
ÓÓ  
;
ÓÓ  !
migrationBuilder
 
.
 
	DropTable
 &
(
& '
name
ÒÒ 
:
ÒÒ 
$str
ÒÒ "
)
ÒÒ" #
;
ÒÒ# $
}
ÚÚ 	
}
ÛÛ 
}ÙÙ ¸

SE:\Projects\FlowerShop\FlowerApp\FlowerApp\Migrations\20191209173625_AddFavorite.cs
	namespace 	
	FlowerApp
 
. 

Migrations 
{ 
public 

partial 
class 
AddFavorite $
:% &
	Migration' 0
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
bool		' +
>		+ ,
(		, -
name

 
:

 
$str

 "
,

" #
table 
: 
$str  
,  !
nullable 
: 
false 
,  
defaultValue 
: 
false #
)# $
;$ %
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str "
," #
table 
: 
$str  
)  !
;! "
} 	
} 
} «
aE:\Projects\FlowerShop\FlowerApp\FlowerApp\Migrations\20191211182401_ShippingAndPaymentMethods.cs
	namespace 	
	FlowerApp
 
. 

Migrations 
{ 
public 

partial 
class %
ShippingAndPaymentMethods 2
:3 4
	Migration5 >
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
string		' -
>		- .
(		. /
name

 
:

 
$str

 "
,

" #
table 
: 
$str 
,  
	maxLength 
: 
$num 
, 
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str !
,! "
table 
: 
$str 
,  
	maxLength 
: 
$num 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str &
,& '
table 
: 
$str 
,  
	maxLength 
: 
$num 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder   
.   

DropColumn   '
(  ' (
name!! 
:!! 
$str!! "
,!!" #
table"" 
:"" 
$str"" 
)""  
;""  !
migrationBuilder$$ 
.$$ 

DropColumn$$ '
($$' (
name%% 
:%% 
$str%% !
,%%! "
table&& 
:&& 
$str&& 
)&&  
;&&  !
migrationBuilder(( 
.(( 

DropColumn(( '
(((' (
name)) 
:)) 
$str)) &
,))& '
table** 
:** 
$str** 
)**  
;**  !
}++ 	
},, 
}-- ˚$
bE:\Projects\FlowerShop\FlowerApp\FlowerApp\Migrations\20191211182629_ShippingAndPaymentMethods1.cs
	namespace 	
	FlowerApp
 
. 

Migrations 
{ 
public 

partial 
class &
ShippingAndPaymentMethods1 3
:4 5
	Migration6 ?
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
AlterColumn		 (
<		( )
string		) /
>		/ 0
(		0 1
name

 
:

 
$str

 
,

  
table 
: 
$str 
,  
	maxLength 
: 
$num 
, 
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldMaxLength 
: 
$num  
)  !
;! "
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
,  
table 
: 
$str 
,  
	maxLength 
: 
$num 
, 
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldMaxLength 
: 
$num  
)  !
;! "
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str $
,$ %
table 
: 
$str 
,  
	maxLength 
: 
$num 
, 
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldMaxLength 
: 
$num !
)! "
;" #
}   	
	protected"" 
override"" 
void"" 
Down""  $
(""$ %
MigrationBuilder""% 5
migrationBuilder""6 F
)""F G
{## 	
migrationBuilder$$ 
.$$ 
AlterColumn$$ (
<$$( )
string$$) /
>$$/ 0
($$0 1
name%% 
:%% 
$str%% 
,%%  
table&& 
:&& 
$str&& 
,&&  
	maxLength'' 
:'' 
$num'' 
,'' 
nullable(( 
:(( 
false(( 
,((  

oldClrType)) 
:)) 
typeof)) "
())" #
string))# )
)))) *
,))* +
oldMaxLength** 
:** 
$num**  
,**  !
oldNullable++ 
:++ 
true++ !
)++! "
;++" #
migrationBuilder-- 
.-- 
AlterColumn-- (
<--( )
string--) /
>--/ 0
(--0 1
name.. 
:.. 
$str.. 
,..  
table// 
:// 
$str// 
,//  
	maxLength00 
:00 
$num00 
,00 
nullable11 
:11 
false11 
,11  

oldClrType22 
:22 
typeof22 "
(22" #
string22# )
)22) *
,22* +
oldMaxLength33 
:33 
$num33  
,33  !
oldNullable44 
:44 
true44 !
)44! "
;44" #
migrationBuilder66 
.66 
AlterColumn66 (
<66( )
string66) /
>66/ 0
(660 1
name77 
:77 
$str77 $
,77$ %
table88 
:88 
$str88 
,88  
	maxLength99 
:99 
$num99 
,99 
nullable:: 
::: 
false:: 
,::  

oldClrType;; 
:;; 
typeof;; "
(;;" #
string;;# )
);;) *
,;;* +
oldMaxLength<< 
:<< 
$num<< !
,<<! "
oldNullable== 
:== 
true== !
)==! "
;==" #
}>> 	
}?? 
}@@ Ô

NE:\Projects\FlowerShop\FlowerApp\FlowerApp\Migrations\20191212095803_Order2.cs
	namespace 	
	FlowerApp
 
. 

Migrations 
{ 
public 

partial 
class 
Order2 
:  !
	Migration" +
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
string		' -
>		- .
(		. /
name

 
:

 
$str

 $
,

$ %
table 
: 
$str 
,  
	maxLength 
: 
$num 
, 
nullable 
: 
true 
) 
;  
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str $
,$ %
table 
: 
$str 
)  
;  !
} 	
} 
} ∫
AE:\Projects\FlowerShop\FlowerApp\FlowerApp\Models\AppDbContext.cs
	namespace 	
	FlowerApp
 
. 
Models 
{ 
public 

class 
AppDbContext 
: 
IdentityDbContext  1
<1 2
ApplicationUser2 A
>A B
{		 
public

 
AppDbContext

 
(

 
DbContextOptions

 ,
<

, -
AppDbContext

- 9
>

9 :
options

; B
)

B C
:

D E
base

F J
(

J K
options

K R
)

R S
{ 	
} 	
public 
DbSet 
< 
Category 
> 

Categories )
{ 	
get 
; 
set 
; 
} 	
public 
DbSet 
< 
Flower 
> 
Flowers $
{ 	
get 
; 
set 
; 
} 	
public 
DbSet 
< 
ShoppingCartItem %
>% &
ShoppingCartItems' 8
{ 	
get 
; 
set 
; 
} 	
public!! 
DbSet!! 
<!! 
Order!! 
>!! 
Orders!! "
{"" 	
get## 
;## 
set$$ 
;$$ 
}%% 	
public'' 
DbSet'' 
<'' 
OrderDetail''  
>''  !
OrderDetails''" .
{(( 	
get)) 
;)) 
set** 
;** 
}++ 	
},, 
}-- ®
=E:\Projects\FlowerShop\FlowerApp\FlowerApp\Models\Category.cs
	namespace 	
	FlowerApp
 
. 
Models 
{ 
public 

class 
Category 
{		 
public

 
int

 

CategoryId

 
{ 	
get 
; 
set 
; 
} 	
public 
string 
CategoryName "
{ 	
get 
; 
set 
; 
} 	
public 
string 
Description !
{ 	
get 
; 
set 
; 
} 	
public 
List 
< 
Flower 
> 
Flowers #
{ 	
get 
; 
set 
; 
}   	
}!! 
}"" Ãe
BE:\Projects\FlowerShop\FlowerApp\FlowerApp\Models\DbInitializer.cs
	namespace 	
	FlowerApp
 
. 
Models 
{		 
public

 

static

 
class

 
DbInitializer

 %
{ 
public 
static 
void 
Seed 
(  
IApplicationBuilder  3
applicationBuilder4 F
)F G
{ 	
using 
( 
var 
serviceScope #
=$ %
applicationBuilder& 8
.8 9
ApplicationServices9 L
.L M
CreateScopeM X
(X Y
)Y Z
)Z [
{ 
AppDbContext 
context $
=% &
serviceScope' 3
.3 4
ServiceProvider4 C
.C D

GetServiceD N
<N O
AppDbContextO [
>[ \
(\ ]
)] ^
;^ _
if 
( 
! 
context 
. 

Categories '
.' (
Any( +
(+ ,
), -
)- .
{ 
context 
. 

Categories &
.& '
AddRange' /
(/ 0

Categories0 :
.: ;
Select; A
(A B
cB C
=>D F
cG H
.H I
ValueI N
)N O
)O P
;P Q
} 
if 
( 
! 
context 
. 
Flowers $
.$ %
Any% (
(( )
)) *
)* +
{ 
context 
. 
AddRange $
( 
new 
Flower "
{ 
Name  
=! "
$str# )
,) *
Price !
=" #
$num$ *
,* +
ShortDescription ,
=- .
$str/ =
,= >
LongDescription   +
=  , -
$str $. R
,$$R S
Category%% $
=%%% &

Categories%%' 1
[%%1 2
$str%%2 A
]%%A B
,%%B C
ImageUrl&& $
=&&% &
$str	&&' É
,
&&É Ñ
InStock'' #
=''$ %
true''& *
,''* +
ImageThumbnailUrl(( -
=((. /
$str	((0 å
,
((å ç 
IsFlowerPresentation)) 0
=))1 2
true))3 7
}** 
,** 
new++ 
Flower++ "
{,, 
Name--  
=--! "
$str--# )
,--) *
Price.. !
=.." #
$num..$ *
,..* +
ShortDescription// ,
=//- .
$str/// D
,//D E
LongDescription00 +
=00, -
$str01. p
,11p q
Category22 $
=22% &

Categories22' 1
[221 2
$str222 A
]22A B
,22B C
ImageUrl33 $
=33% &
$str33' v
,33v w
InStock44 #
=44$ %
true44& *
,44* +
ImageThumbnailUrl55 -
=55. /
$str550 
,	55 Ä 
IsFlowerPresentation66 0
=661 2
false663 8
}77 
,77 
new88 
Flower88 "
{99 
Name::  
=::! "
$str::# *
,::* +
Price;; !
=;;" #
$num;;$ *
,;;* +
ShortDescription<< ,
=<<- .
$str<</ C
,<<C D
LongDescription== +
===, -
$str	=>. Ç
,
>>Ç É
Category?? $
=??% &

Categories??' 1
[??1 2
$str??2 A
]??A B
,??B C
ImageUrl@@ $
=@@% &
$str@@' u
,@@u v
InStockAA #
=AA$ %
trueAA& *
,AA* +
ImageThumbnailUrlAA, =
=AA> ?
$str	AA@ é
,
AAé è 
IsFlowerPresentationBB 0
=BB1 2
falseBB3 8
}CC 
,CC 
newDD 
FlowerDD "
{EE 
NameFF  
=FF! "
$strFF# 5
,FF5 6
PriceGG !
=GG" #
$numGG$ *
,GG* +
ShortDescriptionHH ,
=HH- .
$strHH/ :
,HH: ;
LongDescriptionII +
=II, -
$str	IQ. Å
,
QQÅ Ç
CategoryRR $
=RR% &

CategoriesRR' 1
[RR1 2
$strRR2 F
]RRF G
,RRG H
ImageUrlSS $
=SS% &
$strSS' j
,SSj k
InStockTT #
=TT$ %
trueTT& *
,TT* +
ImageThumbnailUrlUU -
=UU. /
$strUU0 s
,UUs t 
IsFlowerPresentationVV 0
=VV1 2
trueVV3 7
}WW 
,WW 
newYY 
FlowerYY "
{YY# $
NameZZ  
=ZZ! "
$strZZ# -
,ZZ- .
Price[[ !
=[[" #
$num[[$ *
,[[* +
ShortDescription\\ ,
=\\- .
$str\\/ >
,\\> ?
LongDescription]] +
=]], -
$str]`. d
,``d e
Categoryaa $
=aa% &

Categoriesaa' 1
[aa1 2
$straa2 D
]aaD E
,aaE F
ImageUrlbb $
=bb% &
$strbb' c
,bbc d
InStockcc #
=cc$ %
truecc& *
,cc* +
ImageThumbnailUrldd -
=dd. /
$strdd0 l
,ddl m 
IsFlowerPresentationee 0
=ee1 2
falseee3 8
}ff 
,ff 
newhh 
Flowerhh "
{hh# $
Nameii  
=ii! "
$strii# *
,ii* +
Pricejj !
=jj" #
$numjj$ *
,jj* +
ShortDescriptionkk ,
=kk- .
$strkk/ >
,kk> ?
LongDescriptionll +
=ll, -
$strls. x
,ssx y
Categorytt $
=tt% &

Categoriestt' 1
[tt1 2
$strtt2 D
]ttD E
,ttE F
ImageUrluu $
=uu% &
$struu' N
,uuN O
InStockvv #
=vv$ %
truevv& *
,vv* +
ImageThumbnailUrlww -
=ww. /
$strww0 W
,wwW X 
IsFlowerPresentationxx 0
=xx1 2
falsexx3 8
}yy 
,yy 
new{{ 
Flower{{ "
{{{# $
Name||  
=||! "
$str||# =
,||= >
Price}} !
=}}" #
$num}}$ *
,}}* +
ShortDescription~~ ,
=~~- .
$str~~/ >
,~~> ?
LongDescription +
=, -
$str
Å. É
,ÅÅÉ Ñ
Category
ÇÇ $
=
ÇÇ% &

Categories
ÇÇ' 1
[
ÇÇ1 2
$str
ÇÇ2 F
]
ÇÇF G
,
ÇÇG H
ImageUrl
ÉÉ $
=
ÉÉ% &
$str
ÉÉ' g
,
ÉÉg h
InStock
ÑÑ #
=
ÑÑ$ %
true
ÑÑ& *
,
ÑÑ* +
ImageThumbnailUrl
ÖÖ -
=
ÖÖ. /
$str
ÖÖ0 p
,
ÖÖp q"
IsFlowerPresentation
ÜÜ 0
=
ÜÜ1 2
true
ÜÜ3 7
}
áá 
,
áá 
new
ââ 
Flower
ââ "
{
ââ# $
Name
ää  
=
ää! "
$str
ää# *
,
ää* +
Price
ãã !
=
ãã" #
$num
ãã$ *
,
ãã* +
ShortDescription
åå ,
=
åå- .
$str
åå/ E
,
ååE F
LongDescription
çç +
=
çç, -
$str
çë. a
,
ëëa b
Category
íí $
=
íí% &

Categories
íí' 1
[
íí1 2
$str
íí2 D
]
ííD E
,
ííE F
ImageUrl
ìì $
=
ìì% &
$strìì' ì
,ììì î
InStock
îî #
=
îî$ %
true
îî& *
,
îî* +
ImageThumbnailUrl
ïï -
=
ïï. /
$strïï0 ú
,ïïú ù"
IsFlowerPresentation
ññ 0
=
ññ1 2
true
ññ3 7
}
óó 
,
óó 
new
ôô 
Flower
ôô "
{
ôô# $
Name
öö  
=
öö! "
$str
öö# 2
,
öö2 3
Price
õõ !
=
õõ" #
$num
õõ$ *
,
õõ* +
ShortDescription
úú ,
=
úú- .
$str
úú/ J
,
úúJ K
LongDescription
ùù +
=
ùù, -
$strù†. ü
,††ü †
Category
°° $
=
°°% &

Categories
°°' 1
[
°°1 2
$str
°°2 F
]
°°F G
,
°°G H
ImageUrl
¢¢ $
=
¢¢% &
$str¢¢' ì
,¢¢ì î
InStock
££ #
=
££$ %
true
££& *
,
££* +
ImageThumbnailUrl
§§ -
=
§§. /
$str§§0 ú
,§§ú ù"
IsFlowerPresentation
•• 0
=
••1 2
false
••3 8
}
¶¶ 
,
¶¶ 
new
ßß 
Flower
ßß "
{
ßß# $
Name
®®  
=
®®! "
$str
®®# 6
,
®®6 7
Price
©© !
=
©©" #
$num
©©$ *
,
©©* +
ShortDescription
™™ ,
=
™™- .
$str
™™/ >
,
™™> ?
LongDescription
´´ +
=
´´, -
$str
´Ø. k
,
ØØk l
Category
∞∞ $
=
∞∞% &

Categories
∞∞' 1
[
∞∞1 2
$str
∞∞2 F
]
∞∞F G
,
∞∞G H
ImageUrl
±± $
=
±±% &
$str±±' ß
,±±ß ®
InStock
≤≤ #
=
≤≤$ %
true
≤≤& *
,
≤≤* +
ImageThumbnailUrl
≥≥ -
=
≥≥. /
$str≥≥0 ∞
,≥≥∞ ±"
IsFlowerPresentation
¥¥ 0
=
¥¥1 2
false
¥¥3 8
}
µµ 
,
µµ 
new
∑∑ 
Flower
∑∑ "
{
∑∑# $
Name
∏∏  
=
∏∏! "
$str
∏∏# 2
,
∏∏2 3
Price
ππ !
=
ππ" #
$num
ππ$ *
,
ππ* +
ShortDescription
∫∫ ,
=
∫∫- .
$str
∫∫/ G
,
∫∫G H
LongDescription
ªª +
=
ªª, -
$str
ªƒ. `
,
ƒƒ` a
Category
≈≈ $
=
≈≈% &

Categories
≈≈' 1
[
≈≈1 2
$str
≈≈2 A
]
≈≈A B
,
≈≈B C
ImageUrl
∆∆ $
=
∆∆% &
$str
∆∆' w
,
∆∆w x
InStock
«« #
=
««$ %
true
««& *
,
««* +
ImageThumbnailUrl
»» -
=
»». /
$str»»0 Ä
,»»Ä Å"
IsFlowerPresentation
…… 0
=
……1 2
false
……3 8
}
   
)
ÀÀ 
;
ÀÀ 
}
ÃÃ 
context
ŒŒ 
.
ŒŒ 
SaveChanges
ŒŒ #
(
ŒŒ# $
)
ŒŒ$ %
;
ŒŒ% &
}
œœ 
}
–– 	
private
““ 
static
““ 

Dictionary
““ !
<
““! "
string
““" (
,
““( )
Category
““* 2
>
““2 3

categories
““4 >
;
““> ?
public
”” 
static
”” 

Dictionary
””  
<
””  !
string
””! '
,
””' (
Category
””) 1
>
””1 2

Categories
””3 =
{
‘‘ 	
get
’’ 
{
÷÷ 
if
◊◊ 
(
◊◊ 

categories
◊◊ 
==
◊◊ !
null
◊◊" &
)
◊◊& '
{
ÿÿ 
var
ŸŸ 

genresList
ŸŸ "
=
ŸŸ# $
new
ŸŸ% (
Category
ŸŸ) 1
[
ŸŸ1 2
]
ŸŸ2 3
{
⁄⁄ 
new
€€ 
Category
€€ $
{
€€% &
CategoryName
€€' 3
=
€€4 5
$str
€€6 E
}
€€F G
,
€€G H
new
‹‹ 
Category
‹‹ $
{
‹‹% &
CategoryName
‹‹' 3
=
‹‹4 5
$str
‹‹6 J
}
‹‹K L
,
‹‹L M
new
›› 
Category
›› $
{
››% &
CategoryName
››' 3
=
››4 5
$str
››6 H
}
››I J
}
ﬁﬁ 
;
ﬁﬁ 

categories
‡‡ 
=
‡‡  
new
‡‡! $

Dictionary
‡‡% /
<
‡‡/ 0
string
‡‡0 6
,
‡‡6 7
Category
‡‡8 @
>
‡‡@ A
(
‡‡A B
)
‡‡B C
;
‡‡C D
foreach
‚‚ 
(
‚‚ 
Category
‚‚ %
genre
‚‚& +
in
‚‚, .

genresList
‚‚/ 9
)
‚‚9 :
{
„„ 

categories
‰‰ "
.
‰‰" #
Add
‰‰# &
(
‰‰& '
genre
‰‰' ,
.
‰‰, -
CategoryName
‰‰- 9
,
‰‰9 :
genre
‰‰; @
)
‰‰@ A
;
‰‰A B
}
ÂÂ 
}
ÊÊ 
return
ËË 

categories
ËË !
;
ËË! "
}
ÈÈ 
}
ÍÍ 	
}
ÎÎ 
}ÏÏ ˚
;E:\Projects\FlowerShop\FlowerApp\FlowerApp\Models\Flower.cs
	namespace 	
	FlowerApp
 
. 
Models 
{ 
public 

class 
Flower 
{ 
public 
int 
FlowerId 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public		 
string		 
ShortDescription		 &
{		' (
get		) ,
;		, -
set		. 1
;		1 2
}		3 4
public 
string 
LongDescription %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
decimal 
Price 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
ImageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
ImageThumbnailUrl '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
bool 
InStock 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 

CategoryId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
virtual 
Category 
Category  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
bool  
IsFlowerPresentation (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
bool 

IsFavorite 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} à6
:E:\Projects\FlowerShop\FlowerApp\FlowerApp\Models\Order.cs
	namespace 	
	FlowerApp
 
. 
Models 
{ 
public 

class 
Order 
{		 
[

 	
	BindNever

	 
]

 
public 
int 
OrderId 
{ 
get  
;  !
set" %
;% &
}' (
public 
List 
< 
OrderDetail 
>  

OrderLines! +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
[ 	
Required	 
( 
ErrorMessage 
=  
$str! ?
)? @
]@ A
[ 	
Display	 
( 
Name 
= 
$str $
)$ %
]% &
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	
Required	 
( 
ErrorMessage 
=  
$str! >
)> ?
]? @
[ 	
Display	 
( 
Name 
= 
$str #
)# $
]$ %
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
ShippingMethod $
{% &
get' *
;* +
set, /
;/ 0
}1 2
[ 	
StringLength	 
( 
$num 
) 
] 
[ 	
Display	 
( 
Name 
= 
$str (
)( )
]) *
public   
string   
AddressLine1   "
{  # $
get  % (
;  ( )
set  * -
;  - .
}  / 0
["" 	
Display""	 
("" 
Name"" 
="" 
$str"" (
)""( )
]"") *
public## 
string## 
AddressLine2## "
{### $
get##% (
;##( )
set##* -
;##- .
}##/ 0
[&& 	
Display&&	 
(&& 
Name&& 
=&& 
$str&& "
)&&" #
]&&# $
['' 	
StringLength''	 
('' 
$num'' 
,'' 
MinimumLength'' '
=''( )
$num''* +
)''+ ,
]'', -
public(( 
string(( 
ZipCode(( 
{(( 
get((  #
;((# $
set((% (
;((( )
}((* +
[** 	
Required**	 
(** 
ErrorMessage** 
=**  
$str**! 9
)**9 :
]**: ;
[++ 	
StringLength++	 
(++ 
$num++ 
)++ 
]++ 
public,, 
string,, 
City,, 
{,, 
get,,  
;,,  !
set,," %
;,,% &
},,' (
[.. 	
StringLength..	 
(.. 
$num.. 
).. 
].. 
public// 
string// 
State// 
{// 
get// !
;//! "
set//# &
;//& '
}//( )
[22 	
StringLength22	 
(22 
$num22 
)22 
]22 
public33 
string33 
Country33 
{33 
get33  #
;33# $
set33% (
;33( )
}33* +
[55 	
Required55	 
(55 
ErrorMessage55 
=55  
$str55! A
)55A B
]55B C
[66 	
StringLength66	 
(66 
$num66 
)66 
]66 
[77 	
DataType77	 
(77 
DataType77 
.77 
PhoneNumber77 &
)77& '
]77' (
[88 	
Display88	 
(88 
Name88 
=88 
$str88 &
)88& '
]88' (
public99 
string99 
PhoneNumber99 !
{99" #
get99$ '
;99' (
set99) ,
;99, -
}99. /
[;; 	
Required;;	 
];; 
[<< 	
StringLength<<	 
(<< 
$num<< 
)<< 
]<< 
[== 	
DataType==	 
(== 
DataType== 
.== 
EmailAddress== '
)==' (
]==( )
[>> 	
RegularExpression>>	 
(>> 
$str	>>  
,
>>  À
ErrorMessage?? 
=?? 
$str?? Q
)??Q R
]??R S
public@@ 
string@@ 
Email@@ 
{@@ 
get@@ !
;@@! "
set@@# &
;@@& '
}@@( )
[BB 	
	BindNeverBB	 
]BB 
[CC 	
ScaffoldColumnCC	 
(CC 
falseCC 
)CC 
]CC 
publicDD 
decimalDD 

OrderTotalDD !
{DD" #
getDD$ '
;DD' (
setDD) ,
;DD, -
}DD. /
[FF 	
	BindNeverFF	 
]FF 
[GG 	
ScaffoldColumnGG	 
(GG 
falseGG 
)GG 
]GG 
publicHH 
DateTimeHH 
OrderPlacedHH #
{HH$ %
getHH& )
;HH) *
setHH+ .
;HH. /
}HH0 1
[JJ 	
RequiredJJ	 
]JJ 
[KK 	
StringLengthKK	 
(KK 
$numKK 
)KK 
]KK 
publicLL 
stringLL 
	PayMethodLL 
{LL  !
getLL" %
;LL% &
setLL' *
;LL* +
}LL, -
[NN 	
StringLengthNN	 
(NN 
$numNN 
)NN 
]NN 
publicOO 
stringOO 

CardNumberOO  
{OO! "
getOO# &
;OO& '
setOO( +
;OO+ ,
}OO- .
[QQ 	
StringLengthQQ	 
(QQ 
$numQQ 
)QQ 
]QQ 
publicRR 
stringRR 
SecurityCodeRR "
{RR# $
getRR% (
;RR( )
setRR* -
;RR- .
}RR/ 0
}SS 
}TT Â

@E:\Projects\FlowerShop\FlowerApp\FlowerApp\Models\OrderDetail.cs
	namespace 	
	FlowerApp
 
. 
Models 
{ 
public 

class 
OrderDetail 
{		 
public

 
int

 
OrderDetailId

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
public 
int 
OrderId 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
FlowerId 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
Amount 
{ 
get 
;  
set! $
;$ %
}& '
public 
decimal 
Price 
{ 
get "
;" #
set$ '
;' (
}) *
public 
virtual 
Flower 
Flower $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
virtual 
Order 
Order "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ˚E
AE:\Projects\FlowerShop\FlowerApp\FlowerApp\Models\ShoppingCart.cs
	namespace		 	
	FlowerApp		
 
.		 
Models		 
{

 
public 

class 
ShoppingCart 
{ 
private 
readonly 
AppDbContext %
_appDbContext& 3
;3 4
private 
ShoppingCart 
( 
AppDbContext )
appDbContext* 6
)6 7
{ 	
_appDbContext 
= 
appDbContext (
;( )
} 	
public 
string 
ShoppingCartId $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
List 
< 
ShoppingCartItem $
>$ %
ShoppingCartItems& 7
{8 9
get: =
;= >
set? B
;B C
}D E
public 
static 
ShoppingCart "
GetCart# *
(* +
IServiceProvider+ ;
services< D
)D E
{ 	
ISession 
session 
= 
services '
.' (
GetRequiredService( :
<: ; 
IHttpContextAccessor; O
>O P
(P Q
)Q R
?R S
. 
HttpContext 
. 
Session $
;$ %
var 
context 
= 
services "
." #

GetService# -
<- .
AppDbContext. :
>: ;
(; <
)< =
;= >
string 
cartId 
= 
session #
.# $
	GetString$ -
(- .
$str. 6
)6 7
??8 :
Guid; ?
.? @
NewGuid@ G
(G H
)H I
.I J
ToStringJ R
(R S
)S T
;T U
session 
. 
	SetString 
( 
$str &
,& '
cartId( .
). /
;/ 0
return!! 
new!! 
ShoppingCart!! #
(!!# $
context!!$ +
)!!+ ,
{!!- .
ShoppingCartId!!/ =
=!!> ?
cartId!!@ F
}!!G H
;!!H I
}"" 	
public$$ 
void$$ 
	AddToCart$$ 
($$ 
Flower$$ $
flower$$% +
,$$+ ,
int$$- 0
amount$$1 7
)$$7 8
{%% 	
var&& 
shoppingCartItem&&  
=&&! "
_appDbContext'' !
.''! "
ShoppingCartItems''" 3
.''3 4
SingleOrDefault''4 C
(''C D
s(( 
=>(( 
s(( 
.(( 
Flower(( %
.((% &
FlowerId((& .
==((/ 1
flower((2 8
.((8 9
FlowerId((9 A
&&((B D
s((E F
.((F G
ShoppingCartId((G U
==((V X
ShoppingCartId((Y g
)((g h
;((h i
if** 
(** 
shoppingCartItem**  
==**! #
null**$ (
)**( )
{++ 
shoppingCartItem,,  
=,,! "
new,,# &
ShoppingCartItem,,' 7
{-- 
ShoppingCartId.. "
=..# $
ShoppingCartId..% 3
,..3 4
Flower// 
=// 
flower// #
,//# $
Amount00 
=00 
$num00 
}11 
;11 
_appDbContext33 
.33 
ShoppingCartItems33 /
.33/ 0
Add330 3
(333 4
shoppingCartItem334 D
)33D E
;33E F
}44 
else55 
{66 
if== 
(== 
shoppingCartItem== #
.==# $
Amount==$ *
<==+ ,
$num==- .
)==/ 0
{>> 
shoppingCartItem?? $
.??$ %
Amount??% +
=??, -
amount??. 4
+??5 6
$num??7 8
;??8 9
}@@ 
elseAA 
ifAA 
(AA 
shoppingCartItemAA (
.AA( )
AmountAA) /
>AA0 1
$numAA2 3
)AA4 5
{BB 
shoppingCartItemCC $
.CC$ %
AmountCC% +
=CC, -
amountCC. 4
;CC4 5
}DD 
elseEE 
shoppingCartItemFF $
.FF$ %
AmountFF% +
+=FF, .
amountFF/ 5
;FF5 6
}GG 
_appDbContextHH 
.HH 
SaveChangesHH %
(HH% &
)HH& '
;HH' (
}II 	
publicKK 
intKK 
RemoveFromCartKK !
(KK! "
FlowerKK" (
flowerKK) /
)KK/ 0
{LL 	
varMM 
shoppingCartItemMM  
=MM! "
_appDbContextNN !
.NN! "
ShoppingCartItemsNN" 3
.NN3 4
SingleOrDefaultNN4 C
(NNC D
sOO 
=>OO 
sOO 
.OO 
FlowerOO %
.OO% &
FlowerIdOO& .
==OO/ 1
flowerOO2 8
.OO8 9
FlowerIdOO9 A
&&OOB D
sOOE F
.OOF G
ShoppingCartIdOOG U
==OOV X
ShoppingCartIdOOY g
)OOg h
;OOh i
varQQ 
localAmountQQ 
=QQ 
$numQQ 
;QQ  
ifSS 
(SS 
shoppingCartItemSS  
!=SS! #
nullSS$ (
)SS( )
{TT 
ifUU 
(UU 
shoppingCartItemUU $
.UU$ %
AmountUU% +
>UU, -
$numUU. /
)UU/ 0
{VV 
shoppingCartItemWW $
.WW$ %
AmountWW% +
--WW+ -
;WW- .
localAmountXX 
=XX  !
shoppingCartItemXX" 2
.XX2 3
AmountXX3 9
;XX9 :
}YY 
elseZZ 
{[[ 
_appDbContext\\ !
.\\! "
ShoppingCartItems\\" 3
.\\3 4
Remove\\4 :
(\\: ;
shoppingCartItem\\; K
)\\K L
;\\L M
}]] 
}^^ 
_appDbContext`` 
.`` 
SaveChanges`` %
(``% &
)``& '
;``' (
returnbb 
localAmountbb 
;bb 
}cc 	
publicee 
Listee 
<ee 
ShoppingCartItemee $
>ee$ % 
GetShoppingCartItemsee& :
(ee: ;
)ee; <
{ff 	
returngg 
ShoppingCartItemsgg $
??gg% '
(hh 
ShoppingCartItemshh %
=hh& '
_appDbContextii $
.ii$ %
ShoppingCartItemsii% 6
.ii6 7
Whereii7 <
(ii< =
cii= >
=>ii? A
ciiB C
.iiC D
ShoppingCartIdiiD R
==iiS U
ShoppingCartIdiiV d
)iid e
.jj 
Includejj #
(jj# $
sjj$ %
=>jj& (
sjj) *
.jj* +
Flowerjj+ 1
)jj1 2
.kk 
ToListkk "
(kk" #
)kk# $
)kk$ %
;kk% &
}ll 	
publicnn 
voidnn 
	ClearCartnn 
(nn 
)nn 
{oo 	
varpp 
	cartItemspp 
=pp 
_appDbContextpp )
.qq 
ShoppingCartItemsqq "
.rr 
Whererr 
(rr 
cartrr 
=>rr 
cartrr #
.rr# $
ShoppingCartIdrr$ 2
==rr3 5
ShoppingCartIdrr6 D
)rrD E
;rrE F
_appDbContexttt 
.tt 
ShoppingCartItemstt +
.tt+ ,
RemoveRangett, 7
(tt7 8
	cartItemstt8 A
)ttA B
;ttB C
_appDbContextvv 
.vv 
SaveChangesvv %
(vv% &
)vv& '
;vv' (
}ww 	
public{{ 
decimal{{  
GetShoppingCartTotal{{ +
({{+ ,
){{, -
{|| 	
var}} 
total}} 
=}} 
_appDbContext}} %
.}}% &
ShoppingCartItems}}& 7
.}}7 8
Where}}8 =
(}}= >
c}}> ?
=>}}@ B
c}}C D
.}}D E
ShoppingCartId}}E S
==}}T V
ShoppingCartId}}W e
)}}e f
.~~ 
Select~~ 
(~~ 
c~~ 
=>~~ 
c~~ 
.~~ 
Flower~~ %
.~~% &
Price~~& +
*~~, -
c~~. /
.~~/ 0
Amount~~0 6
)~~6 7
.~~7 8
Sum~~8 ;
(~~; <
)~~< =
;~~= >
return 
total 
; 
}
ÄÄ 	
}
ÅÅ 
}ÇÇ â
EE:\Projects\FlowerShop\FlowerApp\FlowerApp\Models\ShoppingCartItem.cs
	namespace 	
	FlowerApp
 
. 
Models 
{ 
public 

class 
ShoppingCartItem !
{		 
public

 
int

 
ShoppingCartItemId

 %
{

& '
get

( +
;

+ ,
set

- 0
;

0 1
}

2 3
public 
Flower 
Flower 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
Amount 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
ShoppingCartId $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} ¡
5E:\Projects\FlowerShop\FlowerApp\FlowerApp\Program.cs
	namespace 	
	FlowerApp
 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
BuildWebHost 
( 
args 
) 
. 
Run "
(" #
)# $
;$ %
} 	
public 
static 
IWebHost 
BuildWebHost +
(+ ,
string, 2
[2 3
]3 4
args5 9
)9 :
=>; =
WebHost 
.  
CreateDefaultBuilder (
(( )
args) -
)- .
. 

UseStartup 
< 
Startup #
># $
($ %
)% &
. 
Build 
( 
) 
; 
}!! 
}"" è
KE:\Projects\FlowerShop\FlowerApp\FlowerApp\Repository\CategoryRepository.cs
	namespace 	
	FlowerApp
 
. 

Repository 
{ 
public		 

class		 
CategoryRepository		 #
:		$ %
ICategoryRepository		& 9
{

 
private 
readonly 
AppDbContext %
_appDbContext& 3
;3 4
public 
CategoryRepository !
(! "
AppDbContext" .
appDbContext/ ;
); <
{ 	
_appDbContext 
= 
appDbContext (
;( )
} 	
public 
IEnumerable 
< 
Category #
># $

Categories% /
=>0 2
_appDbContext3 @
.@ A

CategoriesA K
;K L
} 
} π3
IE:\Projects\FlowerShop\FlowerApp\FlowerApp\Repository\FlowerRepository.cs
	namespace		 	
	FlowerApp		
 
.		 

Repository		 
{

 
public 

class 
FlowerRepository !
:" #
IFlowerRepository$ 5
{ 
private 
readonly 
AppDbContext %
_appDbContext& 3
;3 4
public 
FlowerRepository 
(  
AppDbContext  ,
appDbContext- 9
)9 :
{ 	
_appDbContext 
= 
appDbContext (
;( )
} 	
public 
IEnumerable 
< 
Flower !
>! "
Flowers# *
{ 	
get 
{ 
return 
_appDbContext $
.$ %
Flowers% ,
., -
Include- 4
(4 5
c5 6
=>7 9
c: ;
.; <
Category< D
)D E
;E F
} 
} 	
public 
IEnumerable 
< 
string !
>! "
FlowersNames# /
{ 	
get 
{ 
return   
_appDbContext   $
.  $ %
Flowers  % ,
.  , -
Select  - 3
(  3 4
x  4 5
=>  6 8
x  9 :
.  : ;
Name  ; ?
)  ? @
.  @ A
ToList  A G
(  G H
)  H I
;  I J
}!! 
}"" 	
public$$ 
IEnumerable$$ 
<$$ 
Flower$$ !
>$$! "
FlowerPresentation$$# 5
{%% 	
get&& 
{'' 
return(( 
_appDbContext(( $
.(($ %
Flowers((% ,
.((, -
Include((- 4
(((4 5
c((5 6
=>((7 9
c((: ;
.((; <
Category((< D
)((D E
.((E F
Where((F K
(((K L
p((L M
=>((N P
p((Q R
.((R S 
IsFlowerPresentation((S g
)((g h
;((h i
})) 
}** 	
public,, 
Flower,, 
GetFlowerById,, #
(,,# $
int,,$ '
flowerId,,( 0
),,0 1
{-- 	
return.. 
_appDbContext..  
...  !
Flowers..! (
...( )
FirstOrDefault..) 7
(..7 8
f..8 9
=>..: <
f..= >
...> ?
FlowerId..? G
==..H J
flowerId..K S
)..S T
;..T U
}// 	
public11 
IEnumerable11 
<11 
FlowerViewModel11 *
>11* +
FlowersAsViewModel11, >
{22 	
get33 
{44 
List55 
<55 
FlowerViewModel55 $
>55$ %
flowers55& -
=55. /
new550 3
List554 8
<558 9
FlowerViewModel559 H
>55H I
(55I J
)55J K
;55K L
foreach77 
(77 
var77 
dbFlower77 %
in77& (
Flowers77) 0
)770 1
{88 
flowers99 
.99 
Add99 
(99  (
MapDbFlowerToFlowerViewModel99  <
(99< =
dbFlower99= E
)99E F
)99F G
;99G H
}:: 
return<< 
flowers<< 
;<< 
}== 
}>> 	
public@@ 
bool@@ 
	AddFlower@@ 
(@@ 
Flower@@ $
flower@@% +
)@@+ ,
{AA 	
varBB 
resultBB 
=BB 
_appDbContextBB &
.BB& '
AddBB' *
(BB* +
flowerBB+ 1
)BB1 2
;BB2 3
_appDbContextDD 
.DD 
SaveChangesDD %
(DD% &
)DD& '
;DD' (
returnFF 
resultFF 
.FF 
StateFF 
==FF  "
EntityStateFF# .
.FF. /
AddedFF/ 4
||FF5 7
resultFF8 >
.FF> ?
StateFF? D
==FFE G
EntityStateFFH S
.FFS T
	UnchangedFFT ]
?FF^ _
trueFF` d
:FFe f
falseFFg l
;FFl m
}GG 	
publicII 
boolII 
DeleteFlowerII  
(II  !
FlowerII! '
flowerII( .
)II. /
{JJ 	
varKK 
resultKK 
=KK 
_appDbContextKK &
.KK& '
RemoveKK' -
(KK- .
flowerKK. 4
)KK4 5
;KK5 6
_appDbContextMM 
.MM 
SaveChangesMM %
(MM% &
)MM& '
;MM' (
returnOO 
resultOO 
.OO 
StateOO 
==OO  "
EntityStateOO# .
.OO. /
DeletedOO/ 6
||OO7 9
resultOO: @
.OO@ A
StateOOA F
==OOG I
EntityStateOOJ U
.OOU V
	UnchangedOOV _
?OO` a
trueOOb f
:OOg h
falseOOi n
;OOn o
}PP 	
privateRR 
FlowerViewModelRR (
MapDbFlowerToFlowerViewModelRR  <
(RR< =
FlowerRR= C
dbFlowerRRD L
)RRL M
{SS 	
returnTT 
newTT 
FlowerViewModelTT &
(TT& '
)TT' (
{UU 
FlowerIdVV 
=VV 
dbFlowerVV #
.VV# $
FlowerIdVV$ ,
,VV, -
NameWW 
=WW 
dbFlowerWW 
.WW  
NameWW  $
,WW$ %
PriceXX 
=XX 
dbFlowerXX  
.XX  !
PriceXX! &
,XX& '
ShortDescriptionYY  
=YY! "
dbFlowerYY# +
.YY+ ,
ShortDescriptionYY, <
,YY< =
ImageThumbnailUrlZZ !
=ZZ" #
dbFlowerZZ$ ,
.ZZ, -
ImageThumbnailUrlZZ- >
}[[ 
;[[ 
}\\ 	
public^^ 
bool^^ 
UpdateFlower^^  
(^^  !
Flower^^! '
flower^^( .
)^^. /
{__ 	
_appDbContext`` 
.`` 
Update``  
(``  !
flower``! '
)``' (
;``( )
_appDbContextbb 
.bb 
SaveChangesbb %
(bb% &
)bb& '
;bb' (
returndd 
truedd 
;dd 
}ee 	
}ff 
}gg »
LE:\Projects\FlowerShop\FlowerApp\FlowerApp\Repository\ICategoryRepository.cs
	namespace 	
	FlowerApp
 
. 

Repository 
{ 
public		 

	interface		 
ICategoryRepository		 (
{

 
IEnumerable 
< 
Category 
> 

Categories (
{) *
get+ .
;. /
}0 1
} 
} ¿
JE:\Projects\FlowerShop\FlowerApp\FlowerApp\Repository\IFlowerRepository.cs
	namespace 	
	FlowerApp
 
. 

Repository 
{		 
public

 

	interface

 
IFlowerRepository

 &
{ 
IEnumerable 
< 
Flower 
> 
Flowers #
{$ %
get& )
;) *
}+ ,
IEnumerable 
< 
Flower 
> 
FlowerPresentation .
{/ 0
get1 4
;4 5
}6 7
IEnumerable 
< 
FlowerViewModel #
># $
FlowersAsViewModel% 7
{ 	
get 
; 
} 	
IEnumerable 
< 
string 
> 
FlowersNames (
{ 	
get 
; 
} 	
Flower 
GetFlowerById 
( 
int  
flowerId! )
)) *
;* +
bool 
	AddFlower 
( 
Flower 
flower $
)$ %
;% &
bool 
DeleteFlower 
( 
Flower  
flower! '
)' (
;( )
bool   
UpdateFlower   
(   
Flower    
flower  ! '
)  ' (
;  ( )
}!! 
}"" ò
IE:\Projects\FlowerShop\FlowerApp\FlowerApp\Repository\IOrderRepository.cs
	namespace 	
	FlowerApp
 
. 

Repository 
{		 
public

 

	interface

 
IOrderRepository

 %
{ 
void 
CreateOrder 
( 
Order 
order $
)$ %
;% &
IEnumerable 
< (
OrderHistoryDetailsViewModel 0
>0 1 
GetOrdersAsViewModel2 F
(F G
stringG M
userNameN V
=W X
$strY [
)[ \
;\ ]
} 
} à
PE:\Projects\FlowerShop\FlowerApp\FlowerApp\Repository\ModelCategoryRepository.cs
	namespace 	
	FlowerApp
 
. 

Repository 
{ 
public		 

class		 #
ModelCategoryRepository		 (
:		) *
ICategoryRepository		+ >
{

 
public 
IEnumerable 
< 
Category #
># $

Categories% /
{ 	
get 
{ 
return 
new 
List 
<  
Category  (
>( )
{ 
new 
Category  
{  !

CategoryId "
=# $
$num$ %
,% &
CategoryName $
=% &
$str& 5
,5 6
Description #
=$ %
$str% 9
} 
, 
new 
Category  
{  !

CategoryId "
=# $
$num$ %
,% &
CategoryName $
=% &
$str& :
,: ;
Description #
=$ %
$str% 3
} 
, 
new 
Category  
{  !

CategoryId "
=# $
$num$ %
,% &
CategoryName $
=% &
$str& 8
,8 9
Description   #
=  $ %
$str  % M
}!! 
}"" 
;"" 
}## 
}$$ 	
}%% 
}&& ï2
NE:\Projects\FlowerShop\FlowerApp\FlowerApp\Repository\ModelFlowerRepository.cs
	namespace 	
	FlowerApp
 
. 

Repository 
{		 
public

 

class

 !
ModelFlowerRepository

 &
:

' (
IFlowerRepository

) :
{ 
private 
readonly 
ICategoryRepository ,
_categoryRepository- @
=A B
newC F#
ModelCategoryRepositoryG ^
(^ _
)_ `
;` a
public 
IEnumerable 
< 
Flower !
>! "
Flowers# *
{ 	
get 
{ 
return 
new 
List 
<  
Flower  &
>& '
{ 
new 
Flower 
{  
FlowerId  (
=) *
$num+ ,
,, -
Name. 2
=2 3
$str3 ;
,; <
Price= B
=B C
$numC I
,I J
ShortDescriptionK [
=[ \
$str\ j
,j k
LongDescriptionl {
={ |
$str	| É
,
É Ñ
Category
Ö ç
=
é è!
_categoryRepository
ê £
.
£ §

Categories
§ Æ
.
Æ Ø
ToList
Ø µ
(
µ ∂
)
∂ ∑
[
∑ ∏
$num
∏ π
]
π ∫
,
∫ ª
ImageUrl  
=! "
$str" g
,g h
InStocki p
=p q
trueq u
,u v
ImageThumbnailUrl )
=* +
$str+ p
}p q
,q r
new 
Flower 
{  
FlowerId  (
=) *
$num+ ,
,, -
Name. 2
=2 3
$str3 <
,< =
Price> C
=C D
$numD J
,J K
ShortDescriptionL \
=\ ]
$str] k
,k l
LongDescriptionm |
=| }
$str	} Ü
,
Ü á
Category
à ê
=
ë í!
_categoryRepository
ì ¶
.
¶ ß

Categories
ß ±
.
± ≤
ToList
≤ ∏
(
∏ π
)
π ∫
[
∫ ª
$num
ª º
]
º Ω
,
Ω æ
ImageUrl  
=! "
$str	" Ä
,
Ä Å
InStock
Ç â
=
â ä
true
ä é
,
é è
ImageThumbnailUrl )
=* +
$str	+ â
}
â ä
,
ä ã
new 
Flower 
{  
FlowerId  (
=) *
$num+ ,
,, -
Name. 2
=2 3
$str3 :
,: ;
Price< A
=A B
$numB H
,H I
ShortDescriptionJ Z
=Z [
$str[ f
,f g
LongDescriptionh w
=w x
$str	x É
,
É Ñ
Category
Ö ç
=
é è!
_categoryRepository
ê £
.
£ §

Categories
§ Æ
.
Æ Ø
ToList
Ø µ
(
µ ∂
)
∂ ∑
[
∑ ∏
$num
∏ π
]
π ∫
,
∫ ª
ImageUrl  
=! "
$str" s
,s t
InStocku |
=| }
true	} Å
,
Å Ç
ImageThumbnailUrl )
=* +
$str+ |
}| }
,} ~
new!! 
Flower!! 
{!!  
FlowerId!!  (
=!!) *
$num!!+ ,
,!!, -
Name!!. 2
=!!2 3
$str!!3 ;
,!!; <
Price!!= B
=!!B C
$num!!C I
,!!I J
ShortDescription!!K [
=!![ \
$str!!\ k
,!!k l
LongDescription!!m |
=!!| }
$str	!!} Ö
,
!!Ö Ü
Category
!!á è
=
!!ê ë!
_categoryRepository
!!í •
.
!!• ¶

Categories
!!¶ ∞
.
!!∞ ±
ToList
!!± ∑
(
!!∑ ∏
)
!!∏ π
[
!!π ∫
$num
!!∫ ª
]
!!ª º
,
!!º Ω
ImageUrl""  
=""! "
$str""" p
,""p q
InStock""r y
=""y z
true""z ~
,""~ 
ImageThumbnailUrl## )
=##* +
$str##+ y
}##y z
}$$ 
;$$ 
}%% 
}&& 	
public(( 
IEnumerable(( 
<(( 
Flower(( !
>((! "
FlowerPresentation((# 5
{((6 7
get((8 ;
;((; <
}((= >
public** 
IEnumerable** 
<** 
FlowerViewModel** *
>*** +
FlowersAsViewModel**, >
=>**? A
throw**B G
new**H K#
NotImplementedException**L c
(**c d
)**d e
;**e f
public,, 
IEnumerable,, 
<,, 
string,, !
>,,! "
FlowersNames,,# /
=>,,0 2
throw,,3 8
new,,9 <#
NotImplementedException,,= T
(,,T U
),,U V
;,,V W
public.. 
bool.. 
	AddFlower.. 
(.. 
Flower.. $
flower..% +
)..+ ,
{// 	
throw00 
new00 #
NotImplementedException00 -
(00- .
)00. /
;00/ 0
}11 	
public33 
bool33 
DeleteFlower33  
(33  !
Flower33! '
flower33( .
)33. /
{44 	
throw55 
new55 #
NotImplementedException55 -
(55- .
)55. /
;55/ 0
}66 	
public88 
Flower88 
GetFlowerById88 #
(88# $
int88$ '
flowerId88( 0
)880 1
{99 	
throw:: 
new:: 
System:: 
.:: #
NotImplementedException:: 4
(::4 5
)::5 6
;::6 7
};; 	
public== 
bool== 
UpdateFlower==  
(==  !
Flower==! '
flower==( .
)==. /
{>> 	
throw?? 
new?? #
NotImplementedException?? -
(??- .
)??. /
;??/ 0
}@@ 	
}AA 
}BB ˝-
HE:\Projects\FlowerShop\FlowerApp\FlowerApp\Repository\OrderRepository.cs
	namespace 	
	FlowerApp
 
. 

Repository 
{		 
public

 

class

 
OrderRepository

  
:

! "
IOrderRepository

# 3
{ 
private 
readonly 
AppDbContext %
_appDbContext& 3
;3 4
private 
readonly 
ShoppingCart %
_shoppingCart& 3
;3 4
public 
OrderRepository 
( 
AppDbContext +
appDbContext, 8
,8 9
ShoppingCart: F
shoppingCartG S
)S T
{ 	
_appDbContext 
= 
appDbContext (
;( )
_shoppingCart 
= 
shoppingCart (
;( )
} 	
public 
IEnumerable 
< (
OrderHistoryDetailsViewModel 7
>7 8 
GetOrdersAsViewModel9 M
(M N
stringN T
userNameU ]
=^ _
$str` b
)b c
{ 	
List 
< 
Order 
> 
orders 
=  
null! %
;% &
if 
( 
string 
. 
IsNullOrEmpty $
($ %
userName% -
)- .
). /
{ 
orders 
= 
_appDbContext &
.& '
Orders' -
.- .
ToList. 4
(4 5
)5 6
;6 7
} 
else 
{ 
orders 
= 
_appDbContext &
.& '
Orders' -
.- .
Where. 3
(3 4
x4 5
=>6 8
x9 :
.: ;
Email; @
==A C
userNameD L
)L M
.M N
ToListN T
(T U
)U V
;V W
} 
var!! #
orderHistoryDetailsList!! '
=!!( )
new!!* -
List!!. 2
<!!2 3(
OrderHistoryDetailsViewModel!!3 O
>!!O P
(!!P Q
)!!Q R
;!!R S
foreach"" 
("" 
var"" 
order"" 
in"" !
orders""" (
)""( )
{## #
orderHistoryDetailsList$$ '
.$$' (
Add$$( +
($$+ ,&
MapDbOrderToOrderViewModel$$, F
($$F G
order$$G L
)$$L M
)$$M N
;$$N O
}%% 
return'' #
orderHistoryDetailsList'' *
;''* +
}(( 	
public** 
void** 
CreateOrder** 
(**  
Order**  %
order**& +
)**+ ,
{++ 	
order,, 
.,, 
OrderPlaced,, 
=,, 
DateTime,,  (
.,,( )
Now,,) ,
;,,, -
_appDbContext.. 
... 
Orders..  
...  !
Add..! $
(..$ %
order..% *
)..* +
;..+ ,
var00 
shoppingCartItems00 !
=00" #
_shoppingCart00$ 1
.001 2
ShoppingCartItems002 C
;00C D
foreach22 
(22 
var22 
shoppingCartItem22 )
in22* ,
shoppingCartItems22- >
)22> ?
{33 
var44 
orderDetail44 
=44  !
new44" %
OrderDetail44& 1
(441 2
)442 3
{55 
Amount66 
=66 
shoppingCartItem66 -
.66- .
Amount66. 4
,664 5
FlowerId77 
=77 
shoppingCartItem77 /
.77/ 0
Flower770 6
.776 7
FlowerId777 ?
,77? @
OrderId88 
=88 
order88 #
.88# $
OrderId88$ +
,88+ ,
Price99 
=99 
shoppingCartItem99 ,
.99, -
Flower99- 3
.993 4
Price994 9
}:: 
;:: 
_appDbContext<< 
.<< 
OrderDetails<< *
.<<* +
Add<<+ .
(<<. /
orderDetail<</ :
)<<: ;
;<<; <
}== 
_appDbContext?? 
.?? 
SaveChanges?? %
(??% &
)??& '
;??' (
}@@ 	
privateBB (
OrderHistoryDetailsViewModelBB ,&
MapDbOrderToOrderViewModelBB- G
(BBG H
OrderBBH M
dbOrderBBN U
)BBU V
{CC 	
returnDD 
newDD (
OrderHistoryDetailsViewModelDD 3
(DD3 4
)DD4 5
{EE 
OrderIdFF 
=FF 
dbOrderFF !
.FF! "
OrderIdFF" )
,FF) *
AddressGG 
=GG 
dbOrderGG !
.GG! "
AddressLine1GG" .
+GG/ 0
$strGG1 4
+GG5 6
dbOrderGG7 >
.GG> ?
AddressLine2GG? K
,GGK L
CityHH 
=HH 
dbOrderHH 
.HH 
CityHH #
,HH# $
	FirstNameII 
=II 
dbOrderII #
.II# $
	FirstNameII$ -
,II- .
LastNameJJ 
=JJ 
dbOrderJJ "
.JJ" #
LastNameJJ# +
,JJ+ ,
	PayMethodKK 
=KK 
dbOrderKK #
.KK# $
	PayMethodKK$ -
,KK- .
PhoneNumberLL 
=LL 
dbOrderLL %
.LL% &
PhoneNumberLL& 1
,LL1 2
ShippingMethodMM 
=MM  
dbOrderMM! (
.MM( )
ShippingMethodMM) 7
}NN 
;NN 
}OO 	
}PP 
}QQ ’.
5E:\Projects\FlowerShop\FlowerApp\FlowerApp\Startup.cs
	namespace 	
	FlowerApp
 
{ 
public 

class 
Startup 
{ 
private 
IConfigurationRoot "
_configurationRoot# 5
;5 6
public 
Startup 
( 
IHostingEnvironment *
hostingEnvironment+ =
)= >
{ 	
_configurationRoot 
=  
new! $ 
ConfigurationBuilder% 9
(9 :
): ;
. 
SetBasePath '
(' (
hostingEnvironment( :
.: ;
ContentRootPath; J
)J K
. 
AddJsonFile '
(' (
$str( :
): ;
. 
Build !
(! "
)" #
;# $
} 	
public"" 
void"" 
ConfigureServices"" %
(""% &
IServiceCollection""& 8
services""9 A
)""A B
{## 	
services$$ 
.$$ 
AddDbContext$$ !
<$$! "
AppDbContext$$" .
>$$. /
($$/ 0
options$$0 7
=>$$8 :
options%%, 3
.%%3 4
UseSqlServer%%4 @
(%%@ A
_configurationRoot%%A S
.%%S T
GetConnectionString%%T g
(%%g h
$str%%h {
)%%{ |
)%%| }
)%%} ~
;%%~ 
services'' 
.'' 
AddIdentity''  
<''  !
ApplicationUser''! 0
,''0 1
IdentityRole''2 >
>''> ?
(''? @
options''@ G
=>''H J
{(( 
options)) 
.)) 
Password))  
.))  !
RequireDigit))! -
=)). /
true))0 4
;))4 5
options** 
.** 
Password**  
.**  !
RequireLowercase**! 1
=**2 3
true**4 8
;**8 9
options++ 
.++ 
Password++  
.++  !
RequireUppercase++! 1
=++2 3
true++4 8
;++8 9
options,, 
.,, 
Password,,  
.,,  !"
RequireNonAlphanumeric,,! 7
=,,8 9
false,,: ?
;,,? @
options-- 
.-- 
User-- 
.-- 
RequireUniqueEmail-- /
=--0 1
false--2 7
;--7 8
}.. 
).. 
.// $
AddEntityFrameworkStores// )
<//) *
AppDbContext//* 6
>//6 7
(//7 8
)//8 9
;//9 :
services11 
.11 
AddTransient11 !
<11! "
ICategoryRepository11" 5
,115 6
CategoryRepository117 I
>11I J
(11J K
)11K L
;11L M
services22 
.22 
AddTransient22 !
<22! "
IFlowerRepository22" 3
,223 4
FlowerRepository225 E
>22E F
(22F G
)22G H
;22H I
services33 
.33 
AddSingleton33 !
<33! " 
IHttpContextAccessor33" 6
,336 7
HttpContextAccessor338 K
>33K L
(33L M
)33M N
;33N O
services44 
.44 
	AddScoped44 
<44 
ShoppingCart44 +
>44+ ,
(44, -
sp44- /
=>440 2
ShoppingCart443 ?
.44? @
GetCart44@ G
(44G H
sp44H J
)44J K
)44K L
;44L M
services55 
.55 
AddTransient55 !
<55! "
IOrderRepository55" 2
,552 3
OrderRepository554 C
>55C D
(55D E
)55E F
;55F G
services77 
.77 
AddMvc77 
(77 
)77 
;77 
services99 
.99 
AddMemoryCache99 #
(99# $
)99$ %
;99% &
services:: 
.:: 

AddSession:: 
(::  
)::  !
;::! "
};; 	
public>> 
void>> 
	Configure>> 
(>> 
IApplicationBuilder>> 1
app>>2 5
,>>5 6
IHostingEnvironment>>7 J
env>>K N
,>>N O
ILoggerFactory>>P ^
loggerFactory>>_ l
)>>l m
{?? 	
app@@ 
.@@ %
UseDeveloperExceptionPage@@ )
(@@) *
)@@* +
;@@+ ,
appAA 
.AA 
UseStatusCodePagesAA "
(AA" #
)AA# $
;AA$ %
appBB 
.BB 
UseStaticFilesBB 
(BB 
)BB  
;BB  !
appCC 
.CC 

UseSessionCC 
(CC 
)CC 
;CC 
appDD 
.DD 
UseIdentityDD 
(DD 
)DD 
;DD 
appGG 
.GG 
UseMvcGG 
(GG 
routesGG 
=>GG  
{HH 
routesII 
.II 
MapRouteII 
(II  
nameJJ 
:JJ 
$strJJ *
,JJ* +
templateKK 
:KK 
$strKK ;
,KK; <
defaultsLL 
:LL 
newLL !
{LL" #

ControllerLL$ .
=LL/ 0
$strLL1 9
,LL9 :
actionLL; A
=LLB C
$strLLD J
}LLK L
)LLL M
;LLM N
routesNN 
.NN 
MapRouteNN 
(NN  
nameOO 
:OO 
$strOO #
,OO# $
templatePP 
:PP 
$strPP F
)PPF G
;PPG H
}QQ 
)QQ 
;QQ 
DbInitializerSS 
.SS 
SeedSS 
(SS 
appSS "
)SS" #
;SS# $
}TT 	
}UU 
}VV ‰

GE:\Projects\FlowerShop\FlowerApp\FlowerApp\TagHelpers\EmailTagHelper.cs
	namespace 	
	FlowerApp
 
. 

TagHelpers 
{ 
public		 

class		 
EmailTagHelper		 
:		  !
	TagHelper		" +
{

 
public 
string 
Address 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Content 
{ 
get  #
;# $
set% (
;( )
}* +
public 
override 
void 
Process $
($ %
TagHelperContext% 5
context6 =
,= >
TagHelperOutput? N
outputO U
)U V
{ 	
output 
. 
TagName 
= 
$str  
;  !
output 
. 

Attributes 
. 
SetAttribute *
(* +
$str+ 1
,1 2
$str3 <
+= >
Address? F
)F G
;G H
output 
. 
Content 
. 

SetContent %
(% &
Content& -
)- .
;. /
} 	
} 
} ≥
KE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\AddFlowerViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public 

class 
AddFlowerViewModel #
{		 
public

 
string

 
Name

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
string 
ShortDescription &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
string 
LongDescription %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
decimal 
Price 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
ImageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
ImageThumbnailUrl '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
bool  
IsFlowerPresentation (
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
bool 
InStock 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 

CategoryId 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} Ô
IE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\AddRoleViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public		 

class		 
AddRoleViewModel		 !
{

 
[ 	
Required	 
] 
[ 	
Display	 
( 
Name 
= 
$str #
)# $
]$ %
public 
string 
RoleName 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} π
IE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\AddUserViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public		 

class		 
AddUserViewModel		 !
{

 
[ 	
Required	 
] 
[ 	
Display	 
( 
Name 
= 
$str #
)# $
]$ %
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
EmailAddress '
)' (
]( )
[ 	
RegularExpression	 
( 
$str	  
,
  À
ErrorMessage 
= 
$str Q
)Q R
]R S
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
( 
ErrorMessage 
=  
$str! >
)> ?
]? @
[ 	
Display	 
( 
Name 
= 
$str $
)$ %
]% &
[ 	
DataType	 
( 
DataType 
. 
Date 
)  
]  !
[ 	
DisplayFormat	 
( 
DataFormatString '
=( )
$str* :
,: ;!
ApplyFormatInEditMode< Q
=R S
trueT X
)X Y
]Y Z
public 
DateTime 
	Birthdate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
City 
{ 
get  
;  !
set" %
;% &
}' (
public!! 
string!! 
Country!! 
{!! 
get!!  #
;!!# $
set!!% (
;!!( )
}!!* +
}"" 
}## ’
JE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\CategoryViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public 

class 
CategoryViewModel "
{		 
public

 
int

 

CategoryId

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
int 
CategoryName 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} ≥
RE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\ClaimsManagementViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public 

class %
ClaimsManagementViewModel *
{		 
public

 
string

 
UserId

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
string 
ClaimId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
List 
< 
string 
> 
AllClaimsList )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
} 
} »
LE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\EditFlowerViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public 

class 
EditFlowerViewModel $
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
ShortDescription &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
string 
LongDescription %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
decimal 
Price 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
ImageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
ImageThumbnailUrl '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
bool  
IsFlowerPresentation (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
bool 
InStock 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 

CategoryId 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ©
JE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\EditRoleViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public		 

class		 
EditRoleViewModel		 "
{

 
public 
string 
Id 
{ 
get 
; 
set  #
;# $
}% &
[ 	
Required	 
( 
ErrorMessage 
=  
$str! =
)= >
]> ?
[ 	
Display	 
( 
Name 
= 
$str #
)# $
]$ %
public 
string 
RoleName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
List 
< 
string 
> 
Users !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} ©
JE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\EditUserViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public		 

class		 
EditUserViewModel		 "
{

 
public 
string 
Id 
{ 
get 
; 
set  #
;# $
}% &
[ 	
Required	 
( 
ErrorMessage 
=  
$str! =
)= >
]> ?
[ 	
Display	 
( 
Name 
= 
$str #
)# $
]$ %
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
( 
ErrorMessage 
=  
$str! >
)> ?
]? @
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
List 
< 
string 
> 

UserClaims &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
[ 	
Required	 
( 
ErrorMessage 
=  
$str! >
)> ?
]? @
[ 	
Display	 
( 
Name 
= 
$str $
)$ %
]% &
[ 	
DataType	 
( 
DataType 
. 
Date 
)  
]  !
[ 	
DisplayFormat	 
( 
DataFormatString '
=( )
$str* :
,: ;!
ApplyFormatInEditMode< Q
=R S
trueT X
)X Y
]Y Z
public 
DateTime 
	Birthdate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
City 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Country 
{ 
get  #
;# $
set% (
;( )
}* +
} 
}   ø
NE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\FlowerDetailViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public		 

class		 !
FlowerDetailViewModel		 &
{

 
public 
Flower 
Flower 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ñ
LE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\FlowerListViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public		 

class		 
FlowerListViewModel		 $
{

 
public 
IEnumerable 
< 
Flower !
>! "
Flowers# *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
string 
CurrentCategory %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} ≠
HE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\FlowerViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public 

class 
FlowerViewModel  
{		 
public

 
int

 
FlowerId

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
ShortDescription &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
decimal 
Price 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
ImageThumbnailUrl '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
} 
} »
FE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\HomeViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public		 

class		 
HomeViewModel		 
{

 
public 
IEnumerable 
< 
Flower !
>! "
FlowerPresentation# 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
IEnumerable 
< 
string !
>! "
FlowersName# .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
} 
} Â
GE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\LoginViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public		 

class		 
LoginViewModel		 
{

 
[ 	
Required	 
] 
[ 	
Display	 
( 
Name 
= 
$str #
)# $
]$ %
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
	ReturnUrl 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} ï
UE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\OrderHistoryDetailsViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public 

class (
OrderHistoryDetailsViewModel -
{		 
public

 
int

 
OrderId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
string 
	FirstName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
LastName 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Address 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
City 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
ShippingMethod $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
PhoneNumber !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
	PayMethod 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} å
NE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\OrderHistoryViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public 

class !
OrderHistoryViewModel &
{		 
public

 
IEnumerable

 
<

 (
OrderHistoryDetailsViewModel

 7
>

7 8
Orders

9 ?
{

@ A
get

B E
;

E F
set

G J
;

J K
}

L M
} 
} Ò
NE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\ShoppingCartViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public		 

class		 !
ShoppingCartViewModel		 &
{

 
public 
ShoppingCart 
ShoppingCart (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
decimal 
ShoppingCartTotal (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
} 
} π
JE:\Projects\FlowerShop\FlowerApp\FlowerApp\ViewModels\UserRoleViewModel.cs
	namespace 	
	FlowerApp
 
. 

ViewModels 
{ 
public		 

class		 
UserRoleViewModel		 "
{

 
public 
UserRoleViewModel  
(  !
)! "
{ 	
Users 
= 
new 
List 
< 
IdentityUser )
>) *
(* +
)+ ,
;, -
} 	
public 
string 
UserId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
RoleId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
List 
< 
IdentityUser  
>  !
Users" '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
} 
} 